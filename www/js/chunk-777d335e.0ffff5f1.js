(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-777d335e"],{"2e9a":function(t,s,o){},"2f21":function(t,s,o){"use strict";var e=o("79e5");t.exports=function(t,s){return!!t&&e((function(){s?t.call(null,(function(){}),1):t.call(null)}))}},"55dd":function(t,s,o){"use strict";var e=o("5ca1"),i=o("d8e8"),a=o("4bf8"),c=o("79e5"),n=[].sort,r=[1,2,3];e(e.P+e.F*(c((function(){r.sort(void 0)}))||!c((function(){r.sort(null)}))||!o("2f21")(n)),"Array",{sort:function(t){return void 0===t?n.call(a(this)):n.call(a(this),i(t))}})},"92b0":function(t,s,o){"use strict";var e=o("2e9a"),i=o.n(e);i.a},b400:function(t,s,o){"use strict";o.r(s);var e=function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("form",{staticClass:"card",staticStyle:{overflow:"hidden"},on:{submit:function(s){return s.preventDefault(),t.submit(s)}}},[t._m(0),o("div",{staticClass:"card-body"},[o("transition-group",{attrs:{name:"list",tag:"div"}},[t._l(t.socios,(function(s,e){return[o("div",{key:e+1},[o("div",{staticClass:"d-flex justify-content-between align-items-center mb-3"},[o("p",{staticClass:"m-0 font-weight-bold"},[t._v("Sócio "+t._s(e+1))]),o("button",{staticClass:"btn btn-sm btn-danger",attrs:{type:"button"},on:{click:function(s){return t.socios.splice(e,1)}}},[t._v("REMOVER SÓCIO")])]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"ipt-socio-"+e}},[t._v("Nome")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.socios[e].nome,expression:"socios[index].nome"}],staticClass:"form-control",class:{"is-invalid":0===t.socios[e].nome.length},attrs:{id:"ipt-socio-"+e,type:"text",placeholder:"Nome completo",required:""},domProps:{value:t.socios[e].nome},on:{input:function(s){s.target.composing||t.$set(t.socios[e],"nome",s.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"ipt-cpf-"+e}},[t._v("CPF")]),o("the-mask",{staticClass:"form-control",class:{"is-invalid":11!==t.socios[e].cpf.length},attrs:{id:"ipt-cpf-"+e,mask:"###.###.###-##",type:"tel",placeholder:"Digite o CPF do sócio",required:""},model:{value:t.socios[e].cpf,callback:function(s){t.$set(t.socios[e],"cpf",s)},expression:"socios[index].cpf"}})],1),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"ipt-cota-"+e}},[t._v("Cota")]),o("div",{staticClass:"input-group"},[o("div",{staticClass:"input-group-prepend"},[o("span",{staticClass:"input-group-text"},[t._v("%")])]),o("money",t._b({staticClass:"form-control",class:{"is-invalid":t.socios[e].cota>100||0===t.socios[e].cota},attrs:{id:"ipt-cota-"+e},model:{value:t.socios[e].cota,callback:function(s){t.$set(t.socios[e],"cota",s)},expression:"socios[index].cota"}},"money",t.mask,!1)),t.socios[e].cota>100?o("div",{staticClass:"invalid-feedback"},[t._v("A cota não pode ser maior que 100%")]):t._e(),0===t.socios[e].cota?o("div",{staticClass:"invalid-feedback"},[t._v("A cota não pode ser ZERO")]):t._e()],1)]),o("hr",{staticClass:"my-4"})])]})),0===t.socios.length?o("div",{key:999},[o("p",{staticClass:"text-center text-danger mb-4 mt-3"},[t._v("Nenhum sócio cadastrado")]),o("hr")]):t._e()],2),o("p",{staticClass:"mb-0 text-center",class:{"text-success":100===t.cotaTotal}},[t._v("Soma das cotas: "+t._s(t.cotaTotal)+" %")]),100!==t.cotaTotal?o("div",{staticClass:"invalid-feedback d-block text-center"},[t._v("A soma das cotas tem que ser 100 %")]):t._e(),o("button",{staticClass:"btn btn-outline-primary btn-block mt-3",attrs:{type:"button"},on:{click:function(s){return t.socios.push({nome:"",cpf:"",cota:0})}}},[o("i",{staticClass:"fas fa-plus pr-2"}),t._v("ADICIONAR SÓCIO\n    ")])],1),o("div",{staticClass:"card-footer text-center"},[o("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(s){return t.$router.push({name:"recadpj-3",params:{empresa:t.empresa}})}}},[t._v("VOLTAR")]),o("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[t._v("AVANÇAR")])])])},i=[function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"card-header"},[o("h5",{staticClass:"card-title text-center"},[t._v("Quadro societário")])])}],a=(o("55dd"),o("7514"),{name:"PjSocios",props:{empresa:{required:!0,type:Object},value:{default:function(){return{}},type:Object}},data:function(){return{socios:[],mask:{decimal:".",precision:2,masked:!1}}},computed:{cotaTotal:function(){if(!this.socios||0===this.socios.length)return 0;var t=this.socios.reduce((function(t,s){return t+s.cota}),0);return t>99.991&&t<=100?100:t.toFixed(2)}},methods:{submit:function(){if(0!==this.socios.length)if(100===this.cotaTotal)if(this.socios.find((function(t){return 0===t.cota})))this.$toastr.error("Não pode haver sócio com cota ZERO");else if(this.socios.find((function(t){return 11!==t.cpf.length})))this.$toastr.error("Os CPFs precisam ser válidos");else{var t=this.value;t.socios=this.socios,this.$emit("input",t),this.$emit("recadastrar")}else this.$toastr.error("A cota total não está 100%");else this.$toastr.error("Você precisa cadastrar os sócios")},popularCampos:function(t){this.socios=t.socios.sort((function(t,s){return t.cota>s.cota?-1:t.cota<s.cota?1:0}))}},mounted:function(){this.popularCampos(this.empresa)},beforeRouteLeave:function(t,s,o){t.params.empresa=this.empresa,o()}}),c=a,n=(o("92b0"),o("2877")),r=Object(n["a"])(c,e,i,!1,null,null,null);s["default"]=r.exports}}]);
//# sourceMappingURL=chunk-777d335e.0ffff5f1.js.map