(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ed93815"],{"37c8":function(t,e,r){e.f=r("2b4c")},"39a0":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"recad-container",staticClass:"container pb-3"},[r("div",{staticClass:"indicadores"},[r("router-link",{attrs:{to:"/recadpj/form"}},[t._v("1")]),r("div",{staticClass:"divisor"}),r("router-link",{attrs:{to:"/recadpj/form/2"}},[t._v("2")]),r("div",{staticClass:"divisor"}),r("router-link",{attrs:{to:"/recadpj/form/3"}},[t._v("3")]),r("div",{staticClass:"divisor"}),r("router-link",{attrs:{to:"/recadpj/form/4"}},[t._v("4")])],1),r("transition",{attrs:{mode:"out-in",name:"fade"},on:{"after-leave":function(e){t.$jquery(t.$refs["recad-container"]).scrollTop()}}},[r("router-view",{attrs:{empresa:t.empresa},on:{recadastrar:t.confirmarDados},model:{value:t.dados,callback:function(e){t.dados=e},expression:"dados"}})],1)],1)},n=[],o=(r("ac4d"),r("8a81"),r("ac6a"),r("96cf"),r("3b8d")),i=r("c5e4"),s={name:"RecadPj",data:function(){return{dados:{}}},methods:{confirmarDados:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(JSON.stringify(this.dados)),t.prev=1,t.next=4,this.submit();case 4:return t.prev=4,this.$router.push("/"),t.finish(4);case 7:case"end":return t.stop()}}),t,this,[[1,,4,7]])})));function e(){return t.apply(this,arguments)}return e}(),submit:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,r,a,n,o,s,c,u,f,p,l=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={Token:i["a"].getCofeciToken(this.$store.getters.regional),CPFCNPJ:this.empresa.cnpj,CodigoInscricao:this.empresa.creci,IdTipoInscricao:this.empresa.secundaria?2:1,IdCategoriaInscricao:1,Nome:this.dados.nome.toUpperCase(),NomeFantasia:this.dados.fantasia.toUpperCase(),DataInscricao:this.empresa.data_inscricao,IdTipoEmpresa:this.converteTipoEmpresa(this.dados.tipo),MatrizFilial:1===this.dados.matriz?"M":"F",InscricaoJuntaComercial:this.dados.junta,DataInscricaoJuntaComercial:this.dados.juntaData,NumeroAlteracaoContratual:parseInt(this.dados.altContrato),DataAlteracaoContratual:this.dados.altContratoData,ValorCapitalSocial:this.dados.capital,Situacao:1===this.empresa.situacao?"A":"I",DebitoCreci:this.empresa.debito?"S":"N",Processo:"N"},r={Token:i["a"].getCofeciToken(this.$store.getters.regional),CodigoInscricao:this.empresa.creci,CodigoInscricaoR:this.$store.state.creci,IdCategoriaInscricao:1,IdCategoriaInscricaoR:1,ValorQuota:0,IdAtividade:1,AtivoInativo:"A"},a=this.dados.socios.map((function(t){return{Token:i["a"].getCofeciToken(l.$store.getters.regional),CodigoInscricao:l.empresa.creci,IdCategoriaInscricao:1,CPFCNPJ:t.cpf,Nome:t.nome,ValorQuota:t.cota,AtivoInativo:"A"}})),this.$store.state.homologacao&&(e.homologacao=!0,r.homologacao=!0),n=new FormData,n.append("gravarempresa",JSON.stringify(e)),n.append("gravarrt",JSON.stringify(r)),n.append("gravarsocios",JSON.stringify(a)),t.prev=8,this.$store.commit("setLoading","Registrando no COFECI"),t.prev=10,t.next=13,this.$http.cofeciApi.post("/gravarempresa.php",e);case 13:return t.next=15,this.$http.cofeciApi.post("/gravarresponsaveltecnico.php",r);case 15:if(!a.length){t.next=43;break}o=!0,s=!1,c=void 0,t.prev=19,u=a[Symbol.iterator]();case 21:if(o=(f=u.next()).done){t.next=29;break}return p=f.value,this.$store.state.homologacao&&(p.homologacao=!0),t.next=26,this.$http.cofeciApi.post("/gravarsocio.php",p);case 26:o=!0,t.next=21;break;case 29:t.next=35;break;case 31:t.prev=31,t.t0=t["catch"](19),s=!0,c=t.t0;case 35:t.prev=35,t.prev=36,o||null==u.return||u.return();case 38:if(t.prev=38,!s){t.next=41;break}throw c;case 41:return t.finish(38);case 42:return t.finish(35);case 43:t.next=50;break;case 45:throw t.prev=45,t.t1=t["catch"](10),n.append("falha",JSON.stringify(t.t1)),t.t1&&t.t1.data&&t.t1.data.Mensagem?this.$toastr.warning(t.t1.data.Mensagem,"Aviso do COFECI"):this.$toastr.error("Falha ao registrar no COFECI"),new Error("Erro na API COFECI");case 50:if(this.$store.state.homologacao){t.next=60;break}this.$store.commit("setLoading","Registrando no CRECI"),t.prev=52,t.next=60;break;case 55:throw t.prev=55,t.t2=t["catch"](52),n.append("falha",JSON.stringify(t.t2)),this.$toastr.error("Falha ao registrar no CRECI"),new Error("Erro na API CRECI");case 60:return t.prev=60,this.$store.commit("setLoading",!1),this.$http.axios.post(this.$http.appApi.defaults.baseURL+"/recad/registrar_pj.php",n,{headers:{Authorization:this.$store.state.token}}),t.finish(60);case 64:case"end":return t.stop()}}),t,this,[[8,,60,64],[10,45],[19,31,35,43],[36,,38,42],[52,55]])})));function e(){return t.apply(this,arguments)}return e}(),converteTipoEmpresa:function(t){switch(t){case 6:return 4;case 7:return 5;case 8:return 1;case 16:return 2;default:return null}}},computed:{empresa:function(){return this.$route.params.empresa?this.$route.params.empresa:null}},created:function(){this.empresa||(this.$toastr.info("Selecione a empresa"),this.$router.push({name:"recadpj-empresas"}))}},c=s,u=(r("67cd"),r("2877")),f=Object(u["a"])(c,a,n,!1,null,"e37d6b3e",null);e["default"]=f.exports},"3a72":function(t,e,r){var a=r("7726"),n=r("8378"),o=r("2d00"),i=r("37c8"),s=r("86cc").f;t.exports=function(t){var e=n.Symbol||(n.Symbol=o?{}:a.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:i.f(t)})}},"67ab":function(t,e,r){var a=r("ca5a")("meta"),n=r("d3f4"),o=r("69a8"),i=r("86cc").f,s=0,c=Object.isExtensible||function(){return!0},u=!r("79e5")((function(){return c(Object.preventExtensions({}))})),f=function(t){i(t,a,{value:{i:"O"+ ++s,w:{}}})},p=function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,a)){if(!c(t))return"F";if(!e)return"E";f(t)}return t[a].i},l=function(t,e){if(!o(t,a)){if(!c(t))return!0;if(!e)return!1;f(t)}return t[a].w},h=function(t){return u&&d.NEED&&c(t)&&!o(t,a)&&f(t),t},d=t.exports={KEY:a,NEED:!1,fastKey:p,getWeak:l,onFreeze:h}},"67cd":function(t,e,r){"use strict";var a=r("fc7e"),n=r.n(a);n.a},"7bbc":function(t,e,r){var a=r("6821"),n=r("9093").f,o={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return n(t)}catch(e){return i.slice()}};t.exports.f=function(t){return i&&"[object Window]"==o.call(t)?s(t):n(a(t))}},"8a81":function(t,e,r){"use strict";var a=r("7726"),n=r("69a8"),o=r("9e1e"),i=r("5ca1"),s=r("2aba"),c=r("67ab").KEY,u=r("79e5"),f=r("5537"),p=r("7f20"),l=r("ca5a"),h=r("2b4c"),d=r("37c8"),m=r("3a72"),v=r("d4c0"),g=r("1169"),b=r("cb7c"),y=r("d3f4"),S=r("4bf8"),C=r("6821"),w=r("6a99"),I=r("4630"),O=r("2aeb"),k=r("7bbc"),L=r("11e9"),E=r("2621"),T=r("86cc"),N=r("0d58"),$=L.f,x=T.f,j=k.f,P=a.Symbol,F=a.JSON,A=F&&F.stringify,D="prototype",R=h("_hidden"),J=h("toPrimitive"),M={}.propertyIsEnumerable,_=f("symbol-registry"),V=f("symbols"),G=f("op-symbols"),z=Object[D],H="function"==typeof P&&!!E.f,K=a.QObject,Q=!K||!K[D]||!K[D].findChild,U=o&&u((function(){return 7!=O(x({},"a",{get:function(){return x(this,"a",{value:7}).a}})).a}))?function(t,e,r){var a=$(z,e);a&&delete z[e],x(t,e,r),a&&t!==z&&x(z,e,a)}:x,W=function(t){var e=V[t]=O(P[D]);return e._k=t,e},q=H&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},Y=function(t,e,r){return t===z&&Y(G,e,r),b(t),e=w(e,!0),b(r),n(V,e)?(r.enumerable?(n(t,R)&&t[R][e]&&(t[R][e]=!1),r=O(r,{enumerable:I(0,!1)})):(n(t,R)||x(t,R,I(1,{})),t[R][e]=!0),U(t,e,r)):x(t,e,r)},B=function(t,e){b(t);var r,a=v(e=C(e)),n=0,o=a.length;while(o>n)Y(t,r=a[n++],e[r]);return t},X=function(t,e){return void 0===e?O(t):B(O(t),e)},Z=function(t){var e=M.call(this,t=w(t,!0));return!(this===z&&n(V,t)&&!n(G,t))&&(!(e||!n(this,t)||!n(V,t)||n(this,R)&&this[R][t])||e)},tt=function(t,e){if(t=C(t),e=w(e,!0),t!==z||!n(V,e)||n(G,e)){var r=$(t,e);return!r||!n(V,e)||n(t,R)&&t[R][e]||(r.enumerable=!0),r}},et=function(t){var e,r=j(C(t)),a=[],o=0;while(r.length>o)n(V,e=r[o++])||e==R||e==c||a.push(e);return a},rt=function(t){var e,r=t===z,a=j(r?G:C(t)),o=[],i=0;while(a.length>i)!n(V,e=a[i++])||r&&!n(z,e)||o.push(V[e]);return o};H||(P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=l(arguments.length>0?arguments[0]:void 0),e=function(r){this===z&&e.call(G,r),n(this,R)&&n(this[R],t)&&(this[R][t]=!1),U(this,t,I(1,r))};return o&&Q&&U(z,t,{configurable:!0,set:e}),W(t)},s(P[D],"toString",(function(){return this._k})),L.f=tt,T.f=Y,r("9093").f=k.f=et,r("52a7").f=Z,E.f=rt,o&&!r("2d00")&&s(z,"propertyIsEnumerable",Z,!0),d.f=function(t){return W(h(t))}),i(i.G+i.W+i.F*!H,{Symbol:P});for(var at="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;at.length>nt;)h(at[nt++]);for(var ot=N(h.store),it=0;ot.length>it;)m(ot[it++]);i(i.S+i.F*!H,"Symbol",{for:function(t){return n(_,t+="")?_[t]:_[t]=P(t)},keyFor:function(t){if(!q(t))throw TypeError(t+" is not a symbol!");for(var e in _)if(_[e]===t)return e},useSetter:function(){Q=!0},useSimple:function(){Q=!1}}),i(i.S+i.F*!H,"Object",{create:X,defineProperty:Y,defineProperties:B,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:rt});var st=u((function(){E.f(1)}));i(i.S+i.F*st,"Object",{getOwnPropertySymbols:function(t){return E.f(S(t))}}),F&&i(i.S+i.F*(!H||u((function(){var t=P();return"[null]"!=A([t])||"{}"!=A({a:t})||"{}"!=A(Object(t))}))),"JSON",{stringify:function(t){var e,r,a=[t],n=1;while(arguments.length>n)a.push(arguments[n++]);if(r=e=a[1],(y(e)||void 0!==t)&&!q(t))return g(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!q(e))return e}),a[1]=e,A.apply(F,a)}}),P[D][J]||r("32e9")(P[D],J,P[D].valueOf),p(P,"Symbol"),p(Math,"Math",!0),p(a.JSON,"JSON",!0)},ac4d:function(t,e,r){r("3a72")("asyncIterator")},ac6a:function(t,e,r){for(var a=r("cadf"),n=r("0d58"),o=r("2aba"),i=r("7726"),s=r("32e9"),c=r("84f2"),u=r("2b4c"),f=u("iterator"),p=u("toStringTag"),l=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=n(h),m=0;m<d.length;m++){var v,g=d[m],b=h[g],y=i[g],S=y&&y.prototype;if(S&&(S[f]||s(S,f,l),S[p]||s(S,p,g),c[g]=l,b))for(v in a)S[v]||o(S,v,a[v],!0)}},d4c0:function(t,e,r){var a=r("0d58"),n=r("2621"),o=r("52a7");t.exports=function(t){var e=a(t),r=n.f;if(r){var i,s=r(t),c=o.f,u=0;while(s.length>u)c.call(t,i=s[u++])&&e.push(i)}return e}},fc7e:function(t,e,r){}}]);
//# sourceMappingURL=chunk-3ed93815.0f2ddd53.js.map