(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d6e56"],{7502:function(a,t,e){"use strict";e.r(t);var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[a.$store.state.assinatura&&null===a.assinatura?e("div",{staticClass:"card"},[a._m(0),e("div",{staticClass:"card-body"},[e("div",{staticClass:"text-center"},[e("p",[a._v("Sua assinatura atual:")]),e("img",{staticClass:"img-fluid d-block mx-auto",staticStyle:{"max-height":"16rem"},attrs:{src:a.$store.state.assinatura,alt:""}})])]),e("div",{staticClass:"card-footer"},[e("button",{staticClass:"btn btn-block mx-0 btn-warning",on:{click:a.reusarAssinatura}},[a._v("REUSAR ASSINATURA")]),e("button",{staticClass:"btn btn-block mx-0 btn-success",on:{click:function(t){a.assinatura=!1}}},[a._v("NOVA ASSINATURA")]),e("router-link",{staticClass:"btn btn-block btn-secondary",attrs:{to:{name:"recad-form-foto"}}},[a._v("VOLTAR")])],1)]):!1===a.assinatura?e("div",{staticClass:"card"},[a._m(1),a._m(2),e("div",{staticClass:"card-footer"},[e("button",{staticClass:"btn btn-block mx-0 btn-danger",on:{click:a.inserirImagem}},[a._v("UTILIZAR UMA FOTO")]),e("button",{staticClass:"btn btn-block mx-0 btn-success",on:{click:function(){a.$jquery(a.$refs.coletor).modal("show"),a.$refs.pad.resizeCanvas()}}},[a._v("ASSINAR NA TELA")]),a.$store.state.assinatura?e("button",{staticClass:"btn btn-block mx-0 btn-secondary",on:{click:function(t){a.assinatura=null}}},[a._v("VOLTAR")]):a._e()])]):a.assinatura?e("div",{staticClass:"card"},[a._m(3),e("div",{staticClass:"card-body"},[e("img",{staticClass:"img-fluid d-block mx-auto",staticStyle:{"max-height":"16rem"},attrs:{src:a.assinatura,alt:""}})]),e("div",{staticClass:"card-footer"},[e("button",{staticClass:"btn btn-block btn-primary mx-0",on:{click:a.confirmarFinalizacao}},[a._v("FINALIZAR")]),e("button",{staticClass:"btn btn-block btn-secondary mx-0",on:{click:function(t){a.assinatura=!!a.$store.state.assinatura&&null}}},[a._v("VOLTAR")])])]):a._e(),e("div",{ref:"coletor",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[e("div",{staticClass:"modal-dialog mw-100 my-0",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-body p-2"},[e("p",{staticClass:"mb-2"},[a._v("Assine dentro do retângulo vermelho")]),e("VueSignaturePad",{ref:"pad",staticClass:"border border-danger",attrs:{height:"80vh",width:"100%"}}),e("div",{staticClass:"text-center mt-2"},[e("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:function(t){return a.$refs.pad.clearSignature()}}},[e("i",{staticClass:"fas fa-eraser pr-1"}),a._v("Tentar novamente\n            ")]),e("div",{staticClass:"mt-2"},[a._m(4),e("button",{staticClass:"btn btn-success ml-2",attrs:{type:"button"},on:{click:a.coletarAssinatura}},[e("i",{staticClass:"fas fa-check pr-1"}),a._v("Confirmar\n              ")])])])],1)])])]),e("div",{ref:"capturar-imagem",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-body"},[e("button",{staticClass:"btn btn-block btn-lg btn-success",on:{click:function(){a.$jquery(a.$refs["capturar-imagem"]).modal("hide"),a.capturarImagem_Mobile(!1)}}},[e("i",{staticClass:"fas fa-camera pr-2"}),a._v("Câmera")]),e("button",{staticClass:"btn btn-block btn-lg btn-warning",on:{click:function(){a.$jquery(a.$refs["capturar-imagem"]).modal("hide"),a.capturarImagem_Mobile(!0)}}},[e("i",{staticClass:"fas fa-images pr-2"}),a._v("Galeria")])])])])]),e("div",{ref:"rasterizador",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[a._m(5),e("div",{staticClass:"modal-body p-2"},[a._m(6),e("img",{staticClass:"w-100 bg-success mb-3",attrs:{src:a.rasterizacao_img,alt:""}}),a._m(7),e("input",{directives:[{name:"model",rawName:"v-model.number.lazy",value:a.rasterizacao_level,expression:"rasterizacao_level",modifiers:{number:!0,lazy:!0}}],staticClass:"custom-range",attrs:{id:"ipt-range",type:"range",min:"-25",max:"-1"},domProps:{value:a.rasterizacao_level},on:{change:function(t){a.rasterizacao_level=a._n(t.target.value)},blur:function(t){return a.$forceUpdate()}}})]),e("div",{staticClass:"modal-footer justify-content-center"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:a.confirmarAssinaturaUpada}},[a._v("Confirmar")]),e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[a._v("Cancelar")])])])])]),e("input",{ref:"file",staticClass:"d-none",attrs:{id:"ipt-file",type:"file",accept:"image/jpeg, image/png"},on:{input:a.onInput}}),e("div",{ref:"confirm",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[a._m(8),a._m(9),e("div",{staticClass:"modal-footer justify-content-center bg-light py-2"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[a._v("Cancelar")]),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:a.finalizar}},[a._v("Confirmar")])])])])])])},r=[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"card-header"},[e("h5",{staticClass:"card-title"},[a._v("Assinatura")])])},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"card-header"},[e("h5",{staticClass:"card-title"},[a._v("Nova assinatura")])])},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"card-body"},[e("p",{staticClass:"text-justify"},[a._v("Há duas opções para coletar sua assinatura: assine "),e("strong",[a._v("diretamente na tela")]),a._v(" ou "),e("strong",[a._v("anexe uma fotografia")]),a._v(" dela. Recomendamos que tente realizar a assinatura em tela pois fotografias podem apresentar imagens indesejáveis na sua identidade digital, exemplos: a cor da folha de papel, objetos ao fundo como a mesa e entre outros.")])])},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"card-header"},[e("h5",{staticClass:"card-title"},[a._v("Assinatura")])])},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[e("i",{staticClass:"fas fa-long-arrow-alt-left pr-1"}),a._v("Cancelar\n              ")])},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"modal-header py-2"},[e("h5",{staticClass:"modal-title"},[a._v("Remoção do fundo")])])},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("p",{staticClass:"text-justify"},[a._v("Você precisa apagar o fundo da imagem. Para isso, ajuste a "),e("strong",[a._v("potência do apagador")]),a._v(" deixando o fundo "),e("span",{staticClass:"text-success"},[a._v("verde")]),a._v(" mas sem prejudicar sua rúbrica. A cor "),e("span",{staticClass:"text-success"},[a._v("verde")]),a._v(" representa a região que será apagada, tornando-se transparente.")])},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("label",{staticClass:"d-block text-center",attrs:{for:"ipt-range"}},[e("i",{staticClass:"fas fa-eraser pr-2"}),a._v("Potência do apagador")])},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"modal-header py-2 bg-light"},[e("h5",{staticClass:"modal-title"},[a._v("Finalizar o recadastramento?")])])},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"modal-body d-flex align-items-center"},[e("i",{staticClass:"fas fa-exclamation-circle fa-3x text-danger"}),e("p",{staticClass:"text-justify mb-0 ml-3"},[a._v("Ao confirmar, você declara estar de inteira responsabilidade pelas informações prestadas, estando ciente de que a falsidade nas informações apresentadas implicará nas penalidades cabíveis.")])])}],i=(e("96cf"),e("3b8d")),n=e("c762"),o={name:"Assinatura",data:function(){return{assinatura:null,rasterizacao_level:-20,rasterizacao_img:null,rasterizacao_img_original:null}},methods:{reusarAssinatura:function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,this.$loadImageAsync(this.$store.state.assinatura,{maxWidth:1280,maxHeight:720,canvas:!0,orientation:!0});case 2:t=a.sent,t=n["a"].removerCorDeFundo(t,[200,200,200]),t=n["a"].trimTransparentBackground(t),this.assinatura=t.toDataURL("image/png"),this.confirmarFinalizacao();case 7:case"end":return a.stop()}}),a,this)})));function t(){return a.apply(this,arguments)}return t}(),coletarAssinatura:function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(){var t,e,s,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t=this.$refs.pad.saveSignature(),e=t.isEmpty,s=t.data,!e){a.next=4;break}return this.$toastr.error("","Assine o local informado"),a.abrupt("return");case 4:return a.next=6,this.$loadImageAsync(s,{maxWidth:1280,maxHeight:720,canvas:!0,orientation:!0});case 6:r=a.sent,i=n["a"].trimTransparentBackground(r),this.assinatura=i.toDataURL("image/png"),this.$jquery(this.$refs.coletor).modal("hide");case 10:case"end":return a.stop()}}),a,this)})));function t(){return a.apply(this,arguments)}return t}(),inserirImagem:function(){this.$store.state.mobile?this.$jquery(this.$refs["capturar-imagem"]).modal("show"):this.$refs.file.click()},capturarImagem_Mobile:function(){var a=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=function(t){a.$loadImage("data:image/jpeg;base64,"+t,(function(t){a.rasterizacao_img_original=t.toDataURL("image/png"),a.$jquery(a.$refs.rasterizador).modal("show"),a.rasterizarImagem()}),{maxWidth:1920,maxHeight:1080,orientation:!0,canvas:!0})},s=function(t){"No Image Selected"!==t&&a.$toastr.error(t,"Erro de captura")},r={quality:50,destinationType:Camera.DestinationType.DATA_URL,sourceType:t?Camera.PictureSourceType.PHOTOLIBRARY:Camera.PictureSourceType.CAMERA,encodingType:Camera.EncodingType.JPEG,mediaType:Camera.MediaType.PICTURE,correctOrientation:!0,allowEdit:!0,targetWidth:1920,targetHeight:1080,saveToPhotoAlbum:!1};navigator.camera.getPicture(e,s,r)},onInput:function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(){var t,e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(0!==this.$refs.file.files.length){a.next=3;break}return this.$toastr.warning("Nenhum arquivo selecionado"),a.abrupt("return");case 3:return t=this.$refs.file.files[0],this.$refs.file.value="",a.next=7,this.$loadImageAsync(t,{maxWidth:1920,maxHeight:1080,canvas:!0,orientation:!0});case 7:e=a.sent,this.rasterizacao_img_original=e.toDataURL("image/png"),this.$jquery(this.$refs.rasterizador).modal("show"),this.rasterizarImagem();case 11:case"end":return a.stop()}}),a,this)})));function t(){return a.apply(this,arguments)}return t}(),confirmarAssinaturaUpada:function(){this.assinatura=this.rasterizacao_img,this.$jquery(this.$refs.rasterizador).modal("hide")},rasterizarImagem:function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(){var t,e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,this.$loadImageAsync(this.rasterizacao_img_original,{maxWidth:1280,maxHeight:720,canvas:!0,orientation:!0});case 2:t=a.sent,e=10*Math.abs(this.rasterizacao_level),t=n["a"].removerCorDeFundo(t,[e,e,e]),t=n["a"].trimTransparentBackground(t),this.rasterizacao_img=t.toDataURL("image/png");case 7:case"end":return a.stop()}}),a,this)})));function t(){return a.apply(this,arguments)}return t}(),confirmarFinalizacao:function(){this.$jquery(this.$refs.confirm).modal("show")},finalizar:function(){this.$jquery(this.$refs.confirm).modal("hide"),this.assinatura?this.$emit("finalizado",this.assinatura):this.$toastr.error("Não foi possível reconhecer a assinatura")}},watch:{rasterizacao_level:function(){this.rasterizarImagem()}},created:function(){this.assinatura=!!this.$store.state.assinatura&&null}},c=o,l=e("2877"),u=Object(l["a"])(c,s,r,!1,null,"25efbfa0",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0d6e56.0295704d.js.map