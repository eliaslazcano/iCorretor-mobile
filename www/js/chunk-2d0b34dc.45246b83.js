(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b34dc"],{2899:function(t,a,i){"use strict";i.r(a);var o=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("form",{staticClass:"card",on:{submit:function(a){return a.preventDefault(),t.submit(a)}}},[t._m(0),i("div",{staticClass:"card-body"},[i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"ipt-razao"}},[t._v("Razão social")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputNome,expression:"inputNome"}],staticClass:"form-control",attrs:{type:"text",id:"ipt-razao",required:"",disabled:!!t.empresa.nome},domProps:{value:t.inputNome},on:{input:function(a){a.target.composing||(t.inputNome=a.target.value)}}})]),i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"ipt-fantasia"}},[t._v("Nome fantasia")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputFantasia,expression:"inputFantasia"}],staticClass:"form-control",attrs:{type:"text",id:"ipt-fantasia",disabled:!!t.empresa.nome_fantasia},domProps:{value:t.inputFantasia},on:{input:function(a){a.target.composing||(t.inputFantasia=a.target.value)}}})]),i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"ipt-tipo"}},[t._v("Tipo")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.inputTipo,expression:"inputTipo"}],staticClass:"form-control",attrs:{id:"ipt-tipo",required:"",disabled:null!==t.inputTipo},on:{change:function(a){var i=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.inputTipo=a.target.multiple?i:i[0]}}},[i("option",{attrs:{disabled:""},domProps:{value:null}},[t._v("Selecione")]),i("option",{domProps:{value:16}},[t._v("EIRELI")]),i("option",{domProps:{value:6}},[t._v("Firma Individual")]),i("option",{domProps:{value:8}},[t._v("LTDA - Sociedade Limitada")]),i("option",{domProps:{value:7}},[t._v("SA - Sociedade Anônima")])])]),i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"ipt-filial"}},[t._v("Tipo de sede")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.inputMatriz,expression:"inputMatriz"}],staticClass:"form-control",attrs:{id:"ipt-filial",required:"",disabled:null!==t.inputMatriz},on:{change:function(a){var i=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.inputMatriz=a.target.multiple?i:i[0]}}},[i("option",{attrs:{disabled:""},domProps:{value:null}},[t._v("Selecione")]),i("option",{domProps:{value:1}},[t._v("Matriz")]),i("option",{domProps:{value:2}},[t._v("Filial")])])]),i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"ipt-junta"}},[t._v("Inscrição na Junta Comercial")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputJunta,expression:"inputJunta"}],staticClass:"form-control",attrs:{type:"text",id:"ipt-junta",required:"",disabled:!!t.empresa.inscricao_junta_comercial},domProps:{value:t.inputJunta},on:{input:function(a){a.target.composing||(t.inputJunta=a.target.value)}}})]),i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"ipt-juntadata"}},[t._v("Data de inscrição na Junta Comercial")]),i("the-mask",{staticClass:"form-control",class:{"is-invalid":t.tentativas&&!t.dataValidator(t.inputJuntaData)},attrs:{mask:"##/##/####",masked:"",type:"tel",id:"ipt-juntadata",placeholder:"##/##/####",required:"",disabled:!!t.empresa.inscricao_junta_comercial_data&&t.empresa.inscricao_junta_comercial_data>"1901-01-01"},model:{value:t.inputJuntaData,callback:function(a){t.inputJuntaData=a},expression:"inputJuntaData"}})],1),i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"ipt-alteracao"}},[t._v("Número da alteração contratual")]),i("the-mask",{staticClass:"form-control",attrs:{mask:"####################",type:"tel",id:"ipt-alteracao",disabled:!!t.empresa.numero_alteracao_contratual,required:""},model:{value:t.inputAltContrato,callback:function(a){t.inputAltContrato=a},expression:"inputAltContrato"}})],1),i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"ipt-datacontratual"}},[t._v("Data da alteração contratual")]),i("the-mask",{staticClass:"form-control",class:{"is-invalid":t.tentativas&&!t.dataValidator(t.inputAltContratoData)},attrs:{mask:"##/##/####",masked:"",type:"tel",id:"ipt-datacontratual",placeholder:"##/##/####",required:"",disabled:!!t.empresa.data_alteracao_contratual&&t.empresa.data_alteracao_contratual>"1901-01-01"},model:{value:t.inputAltContratoData,callback:function(a){t.inputAltContratoData=a},expression:"inputAltContratoData"}})],1),i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"ipt-capital"}},[t._v("Valor do capital social")]),i("div",{staticClass:"input-group mb-3"},[t._m(1),i("money",{staticClass:"form-control",class:{"is-invalid":t.tentativas&&(!t.inputCapital||0===t.inputCapital)},attrs:{id:"ipt-capital"},model:{value:t.inputCapital,callback:function(a){t.inputCapital=a},expression:"inputCapital"}})],1)]),i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"ipt-contrato"}},[t._v("Contrato social")]),i("div",{staticClass:"custom-file"},[i("input",{staticClass:"custom-file-input",class:{"is-invalid":t.inputContrato&&!t.inputContratoValidSize},attrs:{type:"file",id:"ipt-contrato",accept:t.limiteContratoFormatos.join(", "),lang:"pt-BR",required:!t.inputContrato},on:{change:t.onFileChange}}),i("label",{staticClass:"custom-file-label overflow-hidden",attrs:{for:"ipt-contrato","data-browse":"Procurar"}},[t._v(t._s(t.inputContratoName))]),t.inputContrato?t._e():i("small",{staticClass:"form-text text-muted",attrs:{id:"emailHelp"}},[t._v("Arquivo em formato PDF de até "+t._s(t.limiteContratoMegabytes)+"MB.")]),t.inputContratoValidSize?t._e():i("div",{staticClass:"invalid-feedback"},[t._v("O arquivo não pode superar "+t._s(t.limiteContratoMegabytes)+"MB")])])])]),i("div",{staticClass:"card-footer text-center"},[i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.$router.push({name:"recadpj-menu"})}}},[t._v("Cancelar")]),i("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[t._v("Avançar")])])])},n=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"card-header"},[i("h5",{staticClass:"card-title"},[t._v("Informações da empresa")])])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"input-group-prepend"},[i("label",{staticClass:"input-group-text",attrs:{for:"ipt-capital"}},[t._v("R$")])])}],e=(i("6b54"),i("7f7f"),i("0e28")),r={name:"PjDados",props:{empresa:{required:!0,type:Object},value:{default:function(){return{}},type:Object}},data:function(){return{inputNome:"",inputFantasia:"",inputTipo:null,inputMatriz:null,inputJunta:"",inputJuntaData:"",inputAltContrato:"",inputAltContratoData:"",inputCapital:0,inputContrato:null,limiteContratoMegabytes:10,limiteContratoFormatos:["application/pdf"],tentativas:0}},computed:{inputContratoName:function(){return this.inputContrato?this.inputContrato.name:"Insira o arquivo"},inputContratoValidSize:function(){return this.inputContrato?this.inputContrato.size/1024<1024*this.limiteContratoMegabytes:null},inputContratoType:function(){return this.inputContrato?this.inputContrato.type:""}},methods:{submit:function(){this.tentativas++;var t=0;if(this.dataValidator(this.inputJuntaData)||t++,this.dataValidator(this.inputAltContratoData)||t++,this.inputCapital&&0!==this.inputCapital||t++,this.inputContratoValidSize||t++,t>0)this.$toastr.error("Corrija "+(t>1?"os campos vermelhos":"o campo vermelho"));else{var a=this.value;a.nome=this.inputNome.trim().toUpperCase(),a.fantasia=this.inputFantasia.trim().toUpperCase(),a.tipo=this.inputTipo,a.matriz=this.inputMatriz,a.junta=this.inputJunta,a.juntaData=e["a"].date_BRparaSQL(this.inputJuntaData),a.altContrato=this.inputAltContrato,a.altContratoData=e["a"].date_BRparaSQL(this.inputAltContratoData),a.capital=this.inputCapital,a.contrato=this.inputContrato,this.$emit("input",a),this.$router.push({name:"recadpj-2",params:{empresa:this.empresa}})}},onFileChange:function(t){var a=t.target.files||t.dataTransfer.files;a.length?this.inputContrato=a[0]:this.inputContrato=null},popularCampos:function(t){this.inputNome=t.nome?t.nome:"",this.inputFantasia=t.nome_fantasia?t.nome_fantasia:"",this.inputTipo=!t.categoria||6!==t.categoria&&7!==t.categoria&&8!==t.categoria&&16!==t.categoria?null:t.categoria,this.inputMatriz=t.matriz?t.matriz:null,this.inputJunta=t.inscricao_junta_comercial?t.inscricao_junta_comercial:"",this.inputJuntaData=t.inscricao_junta_comercial_data&&t.inscricao_junta_comercial_data>"1901-01-01"?e["a"].date_SQLparaBR(t.inscricao_junta_comercial_data):"",this.inputAltContrato=t.numero_alteracao_contratual?t.numero_alteracao_contratual.toString():"",this.inputAltContratoData=t.data_alteracao_contratual&&t.data_alteracao_contratual>"1901-01-01"?e["a"].date_SQLparaBR(t.data_alteracao_contratual):"",this.inputCapital=t.capital_social?t.capital_social:0;var a=this.value;a.nome&&(this.inputNome=a.nome),a.fantasia&&(this.inputFantasia=a.fantasia),a.tipo&&(this.inputTipo=a.tipo),a.matriz&&(this.inputMatriz=a.matriz),a.junta&&(this.inputJunta=a.junta),a.juntaData&&(this.inputJuntaData=e["a"].date_SQLparaBR(a.juntaData)),a.altContrato&&(this.inputAltContrato=a.altContrato),a.altContratoData&&(this.inputAltContratoData=e["a"].date_SQLparaBR(a.altContratoData)),a.capital&&(this.inputCapital=a.capital),a.contrato&&(this.inputContrato=a.contrato)},dataValidator:function(t){return!!t&&(10===t.length&&(!(parseInt(t.substr(6,4))<1900||parseInt(t.substr(6,4))>(new Date).getFullYear())&&(!(parseInt(t.substr(3,2))>12)&&!(parseInt(t.substr(0,2))>31))))}},mounted:function(){this.popularCampos(this.empresa)},beforeRouteLeave:function(t,a,i){t.params.empresa=this.empresa,i()}},s=r,l=i("2877"),u=Object(l["a"])(s,o,n,!1,null,"74f5fb17",null);a["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0b34dc.45246b83.js.map