{"version":3,"sources":["webpack:///./src/views/recad/forms/Assinatura.vue?cc8b","webpack:///src/views/recad/forms/Assinatura.vue","webpack:///./src/views/recad/forms/Assinatura.vue?ad37","webpack:///./src/views/recad/forms/Assinatura.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","$store","state","assinatura","staticClass","_m","_v","staticStyle","attrs","on","reusarAssinatura","$event","name","inserirImagem","$jquery","$refs","coletor","modal","pad","resizeCanvas","_e","confirmarFinalizacao","ref","clearSignature","coletarAssinatura","capturarImagem_Mobile","rasterizacao_img","directives","rawName","value","expression","modifiers","domProps","rasterizacao_level","_n","target","$forceUpdate","confirmarAssinaturaUpada","onInput","finalizar","staticRenderFns","rasterizacao_img_original","component"],"mappings":"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","file":"js/chunk-2d0d6e56.0fe85eaf.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.$store.state.assinatura && _vm.assinatura === null)?_c('div',{staticClass:\"card\"},[_vm._m(0),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"text-center\"},[_c('p',[_vm._v(\"Sua assinatura atual:\")]),_c('img',{staticClass:\"img-fluid d-block mx-auto\",staticStyle:{\"max-height\":\"16rem\"},attrs:{\"src\":_vm.$store.state.assinatura,\"alt\":\"\"}})])]),_c('div',{staticClass:\"card-footer\"},[_c('button',{staticClass:\"btn btn-block mx-0 btn-warning\",on:{\"click\":_vm.reusarAssinatura}},[_vm._v(\"REUSAR ASSINATURA\")]),_c('button',{staticClass:\"btn btn-block mx-0 btn-success\",on:{\"click\":function($event){_vm.assinatura = false}}},[_vm._v(\"NOVA ASSINATURA\")]),_c('router-link',{staticClass:\"btn btn-block btn-secondary\",attrs:{\"to\":{name: 'recad-form-foto'}}},[_vm._v(\"VOLTAR\")])],1)]):(_vm.assinatura === false)?_c('div',{staticClass:\"card\"},[_vm._m(1),_vm._m(2),_c('div',{staticClass:\"card-footer\"},[_c('button',{staticClass:\"btn btn-block mx-0 btn-danger\",on:{\"click\":_vm.inserirImagem}},[_vm._v(\"UTILIZAR UMA FOTO\")]),_c('button',{staticClass:\"btn btn-block mx-0 btn-success\",on:{\"click\":function () { _vm.$jquery(_vm.$refs.coletor).modal('show'); _vm.$refs.pad.resizeCanvas(); }}},[_vm._v(\"ASSINAR NA TELA\")]),(_vm.$store.state.assinatura)?_c('button',{staticClass:\"btn btn-block mx-0 btn-secondary\",on:{\"click\":function($event){_vm.assinatura = null}}},[_vm._v(\"VOLTAR\")]):_vm._e()])]):(_vm.assinatura)?_c('div',{staticClass:\"card\"},[_vm._m(3),_c('div',{staticClass:\"card-body\"},[_c('img',{staticClass:\"img-fluid d-block mx-auto\",staticStyle:{\"max-height\":\"16rem\"},attrs:{\"src\":_vm.assinatura,\"alt\":\"\"}})]),_c('div',{staticClass:\"card-footer\"},[_c('button',{staticClass:\"btn btn-block btn-primary mx-0\",on:{\"click\":_vm.confirmarFinalizacao}},[_vm._v(\"FINALIZAR\")]),_c('button',{staticClass:\"btn btn-block btn-secondary mx-0\",on:{\"click\":function($event){_vm.assinatura = (_vm.$store.state.assinatura) ? null : false}}},[_vm._v(\"VOLTAR\")])])]):_vm._e(),_c('div',{ref:\"coletor\",staticClass:\"modal\",attrs:{\"tabindex\":\"-1\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog mw-100 my-0\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-body p-2\"},[_c('p',{staticClass:\"mb-2\"},[_vm._v(\"Assine dentro do retângulo vermelho\")]),_c('VueSignaturePad',{ref:\"pad\",staticClass:\"border border-danger\",attrs:{\"height\":\"80vh\",\"width\":\"100%\"}}),_c('div',{staticClass:\"text-center mt-2\"},[_c('button',{staticClass:\"btn btn-warning\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$refs.pad.clearSignature()}}},[_c('i',{staticClass:\"fas fa-eraser pr-1\"}),_vm._v(\"Tentar novamente\\n            \")]),_c('div',{staticClass:\"mt-2\"},[_vm._m(4),_c('button',{staticClass:\"btn btn-success ml-2\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.coletarAssinatura}},[_c('i',{staticClass:\"fas fa-check pr-1\"}),_vm._v(\"Confirmar\\n              \")])])])],1)])])]),_c('div',{ref:\"capturar-imagem\",staticClass:\"modal\",attrs:{\"tabindex\":\"-1\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-body\"},[_c('button',{staticClass:\"btn btn-block btn-lg btn-success\",on:{\"click\":function () { _vm.$jquery(_vm.$refs['capturar-imagem']).modal('hide'); _vm.capturarImagem_Mobile(false); }}},[_c('i',{staticClass:\"fas fa-camera pr-2\"}),_vm._v(\"Câmera\")]),_c('button',{staticClass:\"btn btn-block btn-lg btn-warning\",on:{\"click\":function () { _vm.$jquery(_vm.$refs['capturar-imagem']).modal('hide'); _vm.capturarImagem_Mobile(true); }}},[_c('i',{staticClass:\"fas fa-images pr-2\"}),_vm._v(\"Galeria\")])])])])]),_c('div',{ref:\"rasterizador\",staticClass:\"modal\",attrs:{\"tabindex\":\"-1\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_vm._m(5),_c('div',{staticClass:\"modal-body p-2\"},[_vm._m(6),_c('img',{staticClass:\"w-100 bg-success mb-3\",attrs:{\"src\":_vm.rasterizacao_img,\"alt\":\"\"}}),_vm._m(7),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number.lazy\",value:(_vm.rasterizacao_level),expression:\"rasterizacao_level\",modifiers:{\"number\":true,\"lazy\":true}}],staticClass:\"custom-range\",attrs:{\"id\":\"ipt-range\",\"type\":\"range\",\"min\":\"-25\",\"max\":\"-1\"},domProps:{\"value\":(_vm.rasterizacao_level)},on:{\"change\":function($event){_vm.rasterizacao_level=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"modal-footer justify-content-center\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.confirmarAssinaturaUpada}},[_vm._v(\"Confirmar\")]),_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"Cancelar\")])])])])]),_c('input',{ref:\"file\",staticClass:\"d-none\",attrs:{\"id\":\"ipt-file\",\"type\":\"file\",\"accept\":\"image/jpeg, image/png\"},on:{\"input\":_vm.onInput}}),_c('div',{ref:\"confirm\",staticClass:\"modal\",attrs:{\"tabindex\":\"-1\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_vm._m(8),_vm._m(9),_c('div',{staticClass:\"modal-footer justify-content-center bg-light py-2\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"Cancelar\")]),_c('button',{staticClass:\"btn btn-danger\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.finalizar}},[_vm._v(\"Confirmar\")])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(\"Assinatura\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(\"Nova assinatura\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-body\"},[_c('p',{staticClass:\"text-justify\"},[_vm._v(\"Há duas opções para coletar sua assinatura: assine \"),_c('strong',[_vm._v(\"diretamente na tela\")]),_vm._v(\" ou \"),_c('strong',[_vm._v(\"anexe uma fotografia\")]),_vm._v(\" dela. Recomendamos que tente realizar a assinatura em tela pois fotografias podem apresentar imagens indesejáveis na sua identidade digital, exemplos: a cor da folha de papel, objetos ao fundo como a mesa e entre outros.\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(\"Assinatura\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn btn-danger\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_c('i',{staticClass:\"fas fa-long-arrow-alt-left pr-1\"}),_vm._v(\"Cancelar\\n              \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header py-2\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(\"Remoção do fundo\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"text-justify\"},[_vm._v(\"Você precisa apagar o fundo da imagem. Para isso, ajuste a \"),_c('strong',[_vm._v(\"potência do apagador\")]),_vm._v(\" deixando o fundo \"),_c('span',{staticClass:\"text-success\"},[_vm._v(\"verde\")]),_vm._v(\" mas sem prejudicar sua rúbrica. A cor \"),_c('span',{staticClass:\"text-success\"},[_vm._v(\"verde\")]),_vm._v(\" representa a região que será apagada, tornando-se transparente.\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{staticClass:\"d-block text-center\",attrs:{\"for\":\"ipt-range\"}},[_c('i',{staticClass:\"fas fa-eraser pr-2\"}),_vm._v(\"Potência do apagador\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header py-2 bg-light\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(\"Finalizar o recadastramento?\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-body d-flex align-items-center\"},[_c('i',{staticClass:\"fas fa-exclamation-circle fa-3x text-danger\"}),_c('p',{staticClass:\"text-justify mb-0 ml-3\"},[_vm._v(\"Ao confirmar, você declara estar de inteira responsabilidade pelas informações prestadas, estando ciente de que a falsidade nas informações apresentadas implicará nas penalidades cabíveis.\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- Reutilização -->\r\n    <div class=\"card\" v-if=\"$store.state.assinatura && assinatura === null\">\r\n      <div class=\"card-header\">\r\n        <h5 class=\"card-title\">Assinatura</h5>\r\n      </div>\r\n      <div class=\"card-body\">\r\n        <div class=\"text-center\">\r\n          <p>Sua assinatura atual:</p>\r\n          <img :src=\"$store.state.assinatura\" alt=\"\" class=\"img-fluid d-block mx-auto\" style=\"max-height: 16rem\">\r\n        </div>\r\n      </div>\r\n      <div class=\"card-footer\">\r\n        <button class=\"btn btn-block mx-0 btn-warning\" @click=\"reusarAssinatura\">REUSAR ASSINATURA</button>\r\n        <button class=\"btn btn-block mx-0 btn-success\" @click=\"assinatura = false\">NOVA ASSINATURA</button>\r\n        <router-link class=\"btn btn-block btn-secondary\" :to=\"{name: 'recad-form-foto'}\">VOLTAR</router-link>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Nova coleta -->\r\n    <div class=\"card\" v-else-if=\"assinatura === false\">\r\n      <div class=\"card-header\">\r\n        <h5 class=\"card-title\">Nova assinatura</h5>\r\n      </div>\r\n      <div class=\"card-body\">\r\n        <p class=\"text-justify\">Há duas opções para coletar sua assinatura: assine <strong>diretamente na tela</strong> ou <strong>anexe uma fotografia</strong> dela. Recomendamos que tente realizar a assinatura em tela pois fotografias podem apresentar imagens indesejáveis na sua identidade digital, exemplos: a cor da folha de papel, objetos ao fundo como a mesa e entre outros.</p>\r\n      </div>\r\n      <div class=\"card-footer\">\r\n        <button class=\"btn btn-block mx-0 btn-danger\" @click=\"inserirImagem\">UTILIZAR UMA FOTO</button>\r\n        <button class=\"btn btn-block mx-0 btn-success\" @click=\"() => { $jquery($refs.coletor).modal('show'); $refs.pad.resizeCanvas(); }\">ASSINAR NA TELA</button>\r\n        <button v-if=\"$store.state.assinatura\" class=\"btn btn-block mx-0 btn-secondary\" @click=\"assinatura = null\">VOLTAR</button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Resultado final -->\r\n    <div class=\"card\" v-else-if=\"assinatura\">\r\n      <div class=\"card-header\">\r\n        <h5 class=\"card-title\">Assinatura</h5>\r\n      </div>\r\n      <div class=\"card-body\">\r\n        <img :src=\"assinatura\" alt=\"\" class=\"img-fluid d-block mx-auto\" style=\"max-height: 16rem\">\r\n      </div>\r\n      <div class=\"card-footer\">\r\n        <button class=\"btn btn-block btn-primary mx-0\" @click=\"confirmarFinalizacao\">FINALIZAR</button>\r\n        <button class=\"btn btn-block btn-secondary mx-0\" @click=\"assinatura = ($store.state.assinatura) ? null : false\">VOLTAR</button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Modal coletor [para assinar na tela] -->\r\n    <div ref=\"coletor\" class=\"modal\" tabindex=\"-1\" role=\"dialog\">\r\n      <div class=\"modal-dialog mw-100 my-0\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-body p-2\">\r\n            <p class=\"mb-2\">Assine dentro do retângulo vermelho</p>\r\n            <VueSignaturePad ref=\"pad\" class=\"border border-danger\" height=\"80vh\" width=\"100%\"></VueSignaturePad>\r\n            <div class=\"text-center mt-2\">\r\n              <button type=\"button\" class=\"btn btn-warning\" @click=\"$refs.pad.clearSignature()\">\r\n                <i class=\"fas fa-eraser pr-1\"></i>Tentar novamente\r\n              </button>\r\n              <div class=\"mt-2\">\r\n                <button type=\"button\" class=\"btn btn-danger\" data-dismiss=\"modal\">\r\n                  <i class=\"fas fa-long-arrow-alt-left pr-1\"></i>Cancelar\r\n                </button>\r\n                <button type=\"button\" class=\"btn btn-success ml-2\" @click=\"coletarAssinatura\">\r\n                  <i class=\"fas fa-check pr-1\"></i>Confirmar\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- [Mobile] Modal para perguntar de onde deseja obter a fotografia -->\r\n    <div ref=\"capturar-imagem\" class=\"modal\" tabindex=\"-1\" role=\"dialog\">\r\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-body\">\r\n            <button class=\"btn btn-block btn-lg btn-success\" @click=\"() => { $jquery($refs['capturar-imagem']).modal('hide'); capturarImagem_Mobile(false); }\"><i class=\"fas fa-camera pr-2\"/>Câmera</button>\r\n            <button class=\"btn btn-block btn-lg btn-warning\" @click=\"() => { $jquery($refs['capturar-imagem']).modal('hide'); capturarImagem_Mobile(true); }\"><i class=\"fas fa-images pr-2\"/>Galeria</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Modal rasterizador [para fotografias] -->\r\n    <div ref=\"rasterizador\" class=\"modal\" tabindex=\"-1\" role=\"dialog\">\r\n      <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header py-2\">\r\n            <h5 class=\"modal-title\">Remoção do fundo</h5>\r\n          </div>\r\n          <div class=\"modal-body p-2\">\r\n            <p class=\"text-justify\">Você precisa apagar o fundo da imagem. Para isso, ajuste a <strong>potência do apagador</strong> deixando o fundo <span class=\"text-success\">verde</span> mas sem prejudicar sua rúbrica. A cor <span class=\"text-success\">verde</span> representa a região que será apagada, tornando-se transparente.</p>\r\n            <img :src=\"rasterizacao_img\" alt=\"\" class=\"w-100 bg-success mb-3\">\r\n            <label for=\"ipt-range\" class=\"d-block text-center\"><i class=\"fas fa-eraser pr-2\"></i>Potência do apagador</label>\r\n            <input id=\"ipt-range\" type=\"range\" class=\"custom-range\" min=\"-25\" max=\"-1\" v-model.number.lazy=\"rasterizacao_level\">\r\n          </div>\r\n          <div class=\"modal-footer justify-content-center\">\r\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"confirmarAssinaturaUpada\">Confirmar</button>\r\n            <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Cancelar</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Input Cache para fotografias -->\r\n    <input ref=\"file\" id=\"ipt-file\" type=\"file\" accept=\"image/jpeg, image/png\" class=\"d-none\" @input=\"onInput\">\r\n\r\n    <!-- Modal de confirmação da finalização do recad -->\r\n    <div ref=\"confirm\" class=\"modal\" tabindex=\"-1\" role=\"dialog\">\r\n      <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header py-2 bg-light\">\r\n            <h5 class=\"modal-title\">Finalizar o recadastramento?</h5>\r\n          </div>\r\n          <div class=\"modal-body d-flex align-items-center\">\r\n            <i class=\"fas fa-exclamation-circle fa-3x text-danger\"></i>\r\n            <p class=\"text-justify mb-0 ml-3\">Ao confirmar, você declara estar de inteira responsabilidade pelas informações prestadas, estando ciente de que a falsidade nas informações apresentadas implicará nas penalidades cabíveis.</p>\r\n          </div>\r\n          <div class=\"modal-footer justify-content-center bg-light py-2\">\r\n            <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Cancelar</button>\r\n            <button type=\"button\" class=\"btn btn-danger\" @click=\"finalizar\">Confirmar</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import ImageHelper from \"../../../helpers/ImageHelper\";\r\n  export default {\r\n    name: \"Assinatura\",\r\n    data: ()=>({\r\n      assinatura: null, //NULL = Não decidido, False = Decidindo uma nova, String Base64 = Assinatura pronta.\r\n      rasterizacao_level: -20,\r\n      rasterizacao_img: null, //resultado rasterizado\r\n      rasterizacao_img_original: null, //original que a rasterizacao usa para aplicar a tecnica\r\n    }),\r\n    methods: {\r\n      async reusarAssinatura() {\r\n        //tratamento quando o usuario deseja reusar a mesma assinatura da ficha\r\n        //evocado ao clicar no botão \"reusar assinatura\"\r\n        //aplicar uma leve rasterização primeiro, para o caso da assinatura ser JPG com fundo branco absoluto (ou quase)\r\n        let canvas = await this.$loadImageAsync(this.$store.state.assinatura, { maxWidth: 1280, maxHeight: 720, canvas: true, orientation: true });\r\n        canvas = ImageHelper.removerCorDeFundo(canvas, [200, 200, 200]);\r\n        canvas = ImageHelper.trimTransparentBackground(canvas);\r\n        this.assinatura = canvas.toDataURL('image/png');\r\n        this.confirmarFinalizacao();\r\n      },\r\n      async coletarAssinatura() {\r\n        //Capta a imagem do coletor de assinatura e salva para ser utilizada\r\n        //Normalmente esta função é chamada quando o modal do coletor está em exibição\r\n        const { isEmpty, data } = this.$refs.pad.saveSignature();\r\n        if (isEmpty) {\r\n          this.$toastr.error('', 'Assine o local informado');\r\n          return;\r\n        }\r\n        const canvas = await this.$loadImageAsync(data, { maxWidth: 1280, maxHeight: 720, canvas: true, orientation: true });\r\n        const canvas_trimmed = ImageHelper.trimTransparentBackground(canvas);\r\n        this.assinatura = canvas_trimmed.toDataURL('image/png');\r\n        this.$jquery(this.$refs.coletor).modal('hide');\r\n      },\r\n      inserirImagem() {\r\n        if (this.$store.state.mobile) {\r\n          // === PLATAFORMA MOBILE ===\r\n          this.$jquery(this.$refs['capturar-imagem']).modal('show');\r\n        } else {\r\n          // === PLATAFORMA WEB ===\r\n          this.$refs.file.click();\r\n        }\r\n      },\r\n      capturarImagem_Mobile(galeria = false) {\r\n        //Função para dispositivo Mobile somente\r\n        const successCallback = (imageData) => {\r\n          this.$loadImage(\"data:image/jpeg;base64,\" + imageData, (canvas) => {\r\n            this.rasterizacao_img_original = canvas.toDataURL('image/png');\r\n            this.$jquery(this.$refs.rasterizador).modal('show');\r\n            this.rasterizarImagem();\r\n          }, {\r\n            maxWidth: 1920,\r\n            maxHeight: 1080,\r\n            orientation: true,\r\n            canvas: true\r\n          });\r\n        };\r\n        const errorCallback = (message) => {\r\n          if (message !== 'No Image Selected') this.$toastr.error(message, \"Erro de captura\");\r\n        };\r\n        const options = {\r\n          quality: 50,\r\n          destinationType: Camera.DestinationType.DATA_URL,\r\n          sourceType: galeria ? Camera.PictureSourceType.PHOTOLIBRARY : Camera.PictureSourceType.CAMERA,\r\n          encodingType: Camera.EncodingType.JPEG,\r\n          mediaType: Camera.MediaType.PICTURE,\r\n          correctOrientation: true,\r\n          allowEdit: true,\r\n          targetWidth: 1920,\r\n          targetHeight: 1080,\r\n          saveToPhotoAlbum: false\r\n        };\r\n        navigator.camera.getPicture(successCallback, errorCallback, options);\r\n      },\r\n      async onInput() {\r\n        //evocado ao escolherem uma fotografia pra utilizar de assinatura\r\n        if (this.$refs.file.files.length === 0) {\r\n          this.$toastr.warning('Nenhum arquivo selecionado');\r\n          return;\r\n        }\r\n        const arquivo = this.$refs.file.files[0];\r\n        this.$refs.file.value = ''; //zera o input\r\n        const canvas = await this.$loadImageAsync(arquivo, { maxWidth: 1920, maxHeight: 1080, canvas: true, orientation: true });\r\n        this.rasterizacao_img_original = canvas.toDataURL('image/png');\r\n        this.$jquery(this.$refs.rasterizador).modal('show');\r\n        this.rasterizarImagem();\r\n      },\r\n      confirmarAssinaturaUpada() {\r\n        this.assinatura = this.rasterizacao_img;\r\n        this.$jquery(this.$refs.rasterizador).modal('hide');\r\n      },\r\n      async rasterizarImagem() {\r\n        //evocado ao abrir o modal da ferramenta\r\n        //ou ao trocar o level da rasterização\r\n        let canvas = await this.$loadImageAsync(this.rasterizacao_img_original, { maxWidth: 1280, maxHeight: 720, canvas: true, orientation: true });\r\n        const level = Math.abs(this.rasterizacao_level) * 10;\r\n        canvas = ImageHelper.removerCorDeFundo(canvas, [level, level, level]);\r\n        canvas = ImageHelper.trimTransparentBackground(canvas);\r\n        this.rasterizacao_img = canvas.toDataURL('image/png');\r\n      },\r\n      confirmarFinalizacao() {\r\n        //pergunta se o usuario tem certeza que deseja finalizar o recadastramento\r\n        this.$jquery(this.$refs.confirm).modal('show');\r\n      },\r\n      finalizar() {\r\n        this.$jquery(this.$refs.confirm).modal('hide');\r\n        if (!this.assinatura) {\r\n          this.$toastr.error('Não foi possível reconhecer a assinatura');\r\n          return;\r\n        }\r\n        this.$emit('finalizado', this.assinatura);\r\n      }\r\n    },\r\n    watch: {\r\n      rasterizacao_level() {\r\n        this.rasterizarImagem();\r\n      }\r\n    },\r\n    created() {\r\n      this.assinatura = (this.$store.state.assinatura) ? null : false;\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Assinatura.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Assinatura.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Assinatura.vue?vue&type=template&id=25efbfa0&scoped=true&\"\nimport script from \"./Assinatura.vue?vue&type=script&lang=js&\"\nexport * from \"./Assinatura.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"25efbfa0\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}