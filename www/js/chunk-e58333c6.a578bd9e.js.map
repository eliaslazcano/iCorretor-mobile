{"version":3,"sources":["webpack:///./src/views/recad/Recadastramento.vue?d116","webpack:///./src/views/recad/Recadastramento.vue?b484","webpack:///src/views/recad/Recadastramento.vue","webpack:///./src/views/recad/Recadastramento.vue?62a8","webpack:///./src/views/recad/Recadastramento.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","attrs","name","_v","on","$event","$jquery","$refs","scrollTop","recadastrar","_m","staticRenderFns","staticStyle","estadocivil_cnet","dados_pessoais","estadocivil","component"],"mappings":"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CA,MArCA,oCAwCA,OACA,MAzCA,oCA4CA,MACA,MA7CA,oCAgDA,MACA,MAjDA,6BAoDA,OACA,OArDA,eAwDA,GACA,QACA,cACA,wCACA,gCACA,0CACA,4BACA,wBACA,8BACA,cACA,cACA,OACA,gBACA,8BACA,uDACA,4BACA,gCACA,yCACA,wBACA,yBACA,6BACA,qDACA,kCACA,qBACA,qBACA,uBACA,gBACA,UACA,4BACA,oBACA,mBACA,gDACA,qDACA,wDACA,cAEA,GACA,QACA,wCACA,0CACA,iBACA,eACA,+BACA,6CACA,qCACA,+CACA,qCACA,qCACA,6BACA,wCAEA,GACA,QACA,wCACA,0CACA,sBAEA,GACA,QACA,wCACA,0CACA,2BACA,kCAIA,eACA,sCA3HA,UA+HA,yDA/HA,UAkIA,kDAlIA,UAmIA,mEAnIA,eAuJA,kDAvJA,UAwJA,mEAxJA,YAyJA,qBAzJA,wBA0JA,GACA,QACA,wCACA,0CACA,iBACA,eACA,6BACA,2CACA,mCACA,6CACA,mCACA,mCACA,2BACA,wCAEA,kDAzKA,UA0KA,mEA1KA,eA8KA,kDA9KA,UA+KA,gEA/KA,YAgLA,SAhLA,wBAiLA,uBAjLA,UAkLA,gEAlLA,YAoLA,SApLA,wBAqLA,uBArLA,UAsLA,gEAtLA,eA0LA,mGACA,QACA,qCACA,0CACA,sBACA,yBACA,0BACA,uDAjMA,UAmMA,wBAnMA,eAsMA,kDAtMA,UAuMA,yEAvMA,yBA0MA,iEACA,QACA,wCACA,0CACA,uDA9MA,yBAkNA,mEACA,QACA,wCACA,uBACA,WACA,aACA,iDACA,wDACA,uDA1NA,oEA8NA,uCACA,8EACA,mDACA,gCAjOA,WAqOA,8BArOA,kBAsOA,wDAGA,OAzOA,KA0OA,cA1OA,OA2OA,IA3OA,QA8OA,IA9OA,QAiPA,IAjPA,iCA4OgBU,EAAmB,EA5OnC,qCA+OgBA,EAAmB,EA/OnC,qCAkPgBA,EAAmB,EAlPnC,+BAqPgBA,EAAmBC,EAAeC,YArPlD,2BA0PA,eACA,oDACA,sBACA,gCACA,qCACA,kEACA,sBACA,sBACA,wBACA,0CACA,wCACA,4CACA,mEACA,kDACA,0BACA,oDACA,iEACA,+DACA,2DACA,8DACA,4BACA,4BACA,4BACA,4BAjRA,WAkRA,+DAlRA,gBAqRA,eACA,oDACA,sBACA,+CACA,+BACA,6BACA,qCACA,qCACA,6CACA,sJAEA,mEACA,6BACA,2BACA,mCACA,mCACA,2CACA,8IAEA,gCACA,wBAzSA,WA0SA,kEA1SA,gBA6SA,eACA,oDACA,sBACA,kDACA,wBAjTA,WAkTA,kEAlTA,gBAqTA,eACA,oDACA,sBACA,2CAxTA,WAyTA,8DAzTA,gBA4TA,eACA,oDACA,sBACA,2CA/TA,WAgUA,oEAhUA,gBAmUA,eACA,oDACA,sBACA,2BAtUA,WAuUA,uEAvUA,SAwUA,mDAxUA,gEA2UA,uCACA,kDACA,+BA7UA,gBAkVA,qBAEA,yDApVA,sBAsVA,uCAtVA,sCAwVA,iCAxVA,yDA4VA,mFACA,kDAEA,oCA/VA,0KAmWI,cAnWJ,WAoWM,eAAN,kCACM,eAAN,iCACM,eAAN,6BACM,eAAN,4BACM,eAAN,2BAGE,SAAF,CACI,gBADJ,WAEM,OAAN,4DClbwW,I,wBCQpWC,EAAY,eACd,EACAxB,EACAmB,GACA,EACA,KACA,WACA,MAIa,aAAAK,E","file":"js/chunk-e58333c6.a578bd9e.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Recadastramento.vue?vue&type=style&index=0&id=cdd7b424&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Recadastramento.vue?vue&type=style&index=0&id=cdd7b424&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"recad-container\",staticClass:\"container\"},[_c('div',{staticClass:\"indicadores\"},[_c('router-link',{attrs:{\"to\":{name: 'recad-form-dadospessoais'}}},[_vm._v(\"1\")]),_c('div',{staticClass:\"divisor\"}),_c('router-link',{attrs:{\"to\":{name: 'recad-form-documentacao'}}},[_vm._v(\"2\")]),_c('div',{staticClass:\"divisor\"}),_c('router-link',{attrs:{\"to\":{name: 'recad-form-endereco'}}},[_vm._v(\"3\")]),_c('div',{staticClass:\"divisor\"}),_c('router-link',{attrs:{\"to\":{name: 'recad-form-contato'}}},[_vm._v(\"4\")]),_c('div',{staticClass:\"divisor\"}),_c('router-link',{attrs:{\"to\":{name: 'recad-form-foto'}}},[_vm._v(\"5\")]),_c('div',{staticClass:\"divisor\"}),_c('router-link',{attrs:{\"to\":{name: 'recad-form-assinatura'}}},[_vm._v(\"6\")])],1),_c('transition',{attrs:{\"mode\":\"out-in\",\"name\":\"fade\"},on:{\"after-leave\":function($event){_vm.$jquery(_vm.$refs['recad-container']).scrollTop()}}},[_c('router-view',{on:{\"finalizado\":_vm.recadastrar}})],1),_c('div',{ref:\"aviso-legal\",staticClass:\"modal fade\",attrs:{\"tabindex\":\"-1\",\"role\":\"dialog\",\"data-backdrop\":\"static\"}},[_vm._m(0)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(\"Atenção\")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])]),_c('div',{staticClass:\"modal-body\"},[_c('p',{staticClass:\"text-danger text-center mb-2 mr-3\"},[_c('i',{staticClass:\"fas fa-exclamation-triangle fa-3x\"})]),_c('p',{staticClass:\"text-justify mb-0\"},[_vm._v(\"Na finalidade de evitar crimes como \"),_c('span',{staticClass:\"text-danger\",staticStyle:{\"font-weight\":\"600\"}},[_vm._v(\"Falsidade ideológica\")]),_vm._v(\" e \"),_c('span',{staticClass:\"text-danger\",staticStyle:{\"font-weight\":\"600\"}},[_vm._v(\"Falsa identidade\")]),_c('span',{staticClass:\"text-muted font-italic\"},[_vm._v(\" (sob o cartão de regularidade)\")]),_vm._v(\", algumas informações são apenas para conferência. Se desejar corrigir alguma informação bloqueada, compareça ao CRECI com um documento que comprove a autenticidade da sua informação.\")])]),_c('div',{staticClass:\"modal-footer justify-content-center\"},[_c('button',{staticClass:\"btn btn-danger\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"Entendi\")])])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\" ref=\"recad-container\">\r\n    <!-- indicador -->\r\n    <div class=\"indicadores\">\r\n      <router-link :to=\"{name: 'recad-form-dadospessoais'}\">1</router-link>\r\n      <div class=\"divisor\"></div>\r\n      <router-link :to=\"{name: 'recad-form-documentacao'}\">2</router-link>\r\n      <div class=\"divisor\"></div>\r\n      <router-link :to=\"{name: 'recad-form-endereco'}\">3</router-link>\r\n      <div class=\"divisor\"></div>\r\n      <router-link :to=\"{name: 'recad-form-contato'}\">4</router-link>\r\n      <div class=\"divisor\"></div>\r\n      <router-link :to=\"{name: 'recad-form-foto'}\">5</router-link>\r\n      <div class=\"divisor\"></div>\r\n      <router-link :to=\"{name: 'recad-form-assinatura'}\">6</router-link>\r\n    </div>\r\n    <!-- container do formulario -->\r\n    <transition mode=\"out-in\" name=\"fade\" @after-leave=\"$jquery($refs['recad-container']).scrollTop()\">\r\n      <router-view @finalizado=\"recadastrar\"/>\r\n    </transition>\r\n    <!-- modal de aviso legal -->\r\n    <div ref=\"aviso-legal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" data-backdrop=\"static\">\r\n      <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\">Atenção</h5>\r\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <p class=\"text-danger text-center mb-2 mr-3\">\r\n              <i class=\"fas fa-exclamation-triangle fa-3x\"/>\r\n            </p>\r\n            <p class=\"text-justify mb-0\">Na finalidade de evitar crimes como <span class=\"text-danger\" style=\"font-weight: 600\">Falsidade ideológica</span> e <span class=\"text-danger\" style=\"font-weight: 600\">Falsa identidade</span><span class=\"text-muted font-italic\"> (sob o cartão de regularidade)</span>, algumas informações são apenas para conferência. Se desejar corrigir alguma informação bloqueada, compareça ao CRECI com um documento que comprove a autenticidade da sua informação.</p>\r\n          </div>\r\n          <div class=\"modal-footer justify-content-center\">\r\n            <button type=\"button\" class=\"btn btn-danger\" data-dismiss=\"modal\">Entendi</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import CreciHelper from \"../../helpers/CreciHelper\";\r\n  import DateHelper from \"../../helpers/DateHelper\";\r\n  import ImageHelper from \"../../helpers/ImageHelper\";\r\n  import api from \"../../plugins/http\";\r\n  export default {\r\n    name: \"Home\",\r\n    created() {\r\n      //Todos os links que trazem ao recad já ficam ocultos para regionais não-clientes da I2BR, ainda assim, o bloqueio abaixo é para precaução.\r\n      if (!this.podeRecadastrar) {\r\n        this.$toastr.error('Seu regional não tem suporte para o recadastramento');\r\n        this.$router.push({name: 'home'});\r\n        return;\r\n      }\r\n\r\n      this.$store.commit('setControls', false);\r\n    },\r\n    mounted() {\r\n      this.$sleep(1000).then(() => this.$jquery(this.$refs['aviso-legal']).modal('show'));\r\n    },\r\n    destroyed() {\r\n      this.$store.commit('setControls', true);\r\n      this.destruirCache();\r\n    },\r\n    methods: {\r\n      async recadastrar(assinatura) {\r\n        if (!CreciHelper.utilizaConselhoNet(this.$store.getters.regional)) {\r\n          //Para usuários de regionais não-clientes que de alguma forma conseguiram chegar até aqui\r\n          this.$toastr.error('Seu regional não possui compatibilidade com a ferramenta');\r\n          this.$router.push({name: 'home'});\r\n          return;\r\n        }\r\n\r\n        const dados_pessoais = JSON.parse(sessionStorage.getItem('recad_dadospessoais'));\r\n        const documentos = JSON.parse(sessionStorage.getItem('recad_documentacao'));\r\n        const enderecos = JSON.parse(sessionStorage.getItem('recad_endereco'));\r\n        const contato = JSON.parse(sessionStorage.getItem('recad_contato'));\r\n        const foto = JSON.parse(sessionStorage.getItem('recad_foto'));\r\n\r\n        const cofeciToken = CreciHelper.getCofeciToken(this.$store.getters.regional);\r\n        const sexo = dados_pessoais.sexo === 1 ? 'M' : (dados_pessoais.sexo === 2 ? 'F' : 'O');\r\n        let tipoSanguineo, fatorRh;\r\n        switch (dados_pessoais.tiposanguineo) {\r\n          case 2:\r\n            tipoSanguineo = 'A';\r\n            fatorRh = 'P';\r\n            break;\r\n          case 3:\r\n            tipoSanguineo = 'A';\r\n            fatorRh = 'N';\r\n            break;\r\n          case 4:\r\n            tipoSanguineo = 'B';\r\n            fatorRh = 'P';\r\n            break;\r\n          case 5:\r\n            tipoSanguineo = 'B';\r\n            fatorRh = 'N';\r\n            break;\r\n          case 6:\r\n            tipoSanguineo = 'AB';\r\n            fatorRh = 'P';\r\n            break;\r\n          case 7:\r\n            tipoSanguineo = 'AB';\r\n            fatorRh = 'N';\r\n            break;\r\n          case 8:\r\n            tipoSanguineo = 'O';\r\n            fatorRh = 'P';\r\n            break;\r\n          case 9:\r\n            tipoSanguineo = 'O';\r\n            fatorRh = 'N';\r\n            break;\r\n          default:\r\n            tipoSanguineo = 'NS';\r\n            fatorRh = 'NS';\r\n        }\r\n\r\n        let dados_gravarcorretor = {\r\n          \"Token\": cofeciToken,\r\n          \"CPFCNPJ\": documentos.cpf,\r\n          \"CodigoInscricao\": this.$store.state.creci,\r\n          \"IdTipoInscricao\": dados_pessoais.tipoinscricao,\r\n          \"IdCategoriaInscricao\": dados_pessoais.categoriainscricao,\r\n          \"IdEstadoCivil\": dados_pessoais.estadocivil,\r\n          \"IdFormacao\": (dados_pessoais.formacao + 1),\r\n          \"IdEscolaridade\": dados_pessoais.escolaridade,\r\n          \"NomePai\": dados_pessoais.pai,\r\n          \"NomeMae\": dados_pessoais.mae,\r\n          \"Sexo\": sexo,\r\n          \"Estrangeiro\": \"N\",\r\n          \"Nacionalidade\": dados_pessoais.nacionalidade,\r\n          \"DataNascimento\": DateHelper.date_BRparaSQL(dados_pessoais.datanascimento),\r\n          \"Naturalidade\": dados_pessoais.naturalidade,\r\n          \"UFNaturalidade\": dados_pessoais.ufnaturalidade,\r\n          \"Reservista\": dados_pessoais.reservista ? dados_pessoais.reservista : '0',\r\n          \"RegistroIdentidade\": documentos.rg,\r\n          \"OrgaoEmissor\": documentos.rgemissor,\r\n          \"UFOrgaoEmissor\": documentos.rgufemissor,\r\n          \"DataEmissaoRG\": DateHelper.date_BRparaSQL(documentos.rgdataemissao),\r\n          \"TituloDeEleitor\": documentos.tituloeleitoral,\r\n          \"UFTituloDeEleitor\": \"\",\r\n          \"Zona\": documentos.zonaeleitoral,\r\n          \"Secao\": documentos.secaoeleitoral,\r\n          \"TipoSanguineo\": tipoSanguineo,\r\n          \"FatorRh\": fatorRh,\r\n          \"Doador\": dados_pessoais.doador === 1 ? \"S\" : \"N\",\r\n          \"Nome\": dados_pessoais.nomecompleto,\r\n          \"NomeFantasia\": dados_pessoais.npa,\r\n          \"Situacao\": this.$store.state.situacao === 1 ? \"A\" : \"I\",\r\n          \"DataInscricao\": DateHelper.date_BRparaSQL(dados_pessoais.datainscricao),\r\n          \"DebitoCreci\": this.$store.state.anuidade_absoluta ? \"N\" : \"S\",\r\n          \"Processo\": \"N\"\r\n        };\r\n        let dados_gravarendereco = {\r\n          \"Token\": cofeciToken,\r\n          \"CodigoInscricao\": this.$store.state.creci,\r\n          \"IdCategoriaInscricao\": dados_pessoais.categoriainscricao,\r\n          \"IdTipoEndereco\": 1,\r\n          \"IdReferencia\": 1,\r\n          \"Cep\": enderecos.endereco_residencial.cep,\r\n          \"Logradouro\": enderecos.endereco_residencial.logradouro,\r\n          \"Numero\": enderecos.endereco_residencial.numero,\r\n          \"Complemento\": enderecos.endereco_residencial.complemento,\r\n          \"Bairro\": enderecos.endereco_residencial.bairro,\r\n          \"Cidade\": enderecos.endereco_residencial.cidade,\r\n          \"UF\": enderecos.endereco_residencial.uf,\r\n          \"Correspondencia\": enderecos.favorito === 1 ? \"S\" : \"N\"\r\n        };\r\n        let dados_gravaremail = {\r\n          \"Token\": cofeciToken,\r\n          \"CodigoInscricao\": this.$store.state.creci,\r\n          \"IdCategoriaInscricao\": dados_pessoais.categoriainscricao,\r\n          \"EmailPagina\": contato.email1\r\n        };\r\n        let dados_gravarfotoassinatura = {\r\n          \"Token\": cofeciToken,\r\n          \"CodigoInscricao\": this.$store.state.creci,\r\n          \"IdCategoriaInscricao\": dados_pessoais.categoriainscricao,\r\n          \"Foto\": foto.split('base64,')[1],\r\n          \"Assinatura\": assinatura.split('base64,')[1]\r\n        };\r\n\r\n        //Dados para o histórico no banco interno do App\r\n        let histForm = new FormData();\r\n        histForm.append(\"context\", JSON.stringify(dados_gravarcorretor));\r\n\r\n        try {\r\n          //============== GRAVANDO DADOS NO COFECI ==============//\r\n          this.$store.commit('setLoading', 'Registrando no COFECI');\r\n          try {\r\n            //Gravar Corretor\r\n            if (this.$store.state.homologacao) dados_gravarcorretor.homologacao = true;\r\n            await this.$http.cofeciApi.post('/gravarcorretor.php', JSON.stringify(dados_gravarcorretor));\r\n\r\n            //Excluir todos os emails\r\n            // await this.$http.cofeciApi.post('/excluirtodosemails.php', JSON.stringify({\r\n            //   \"Token\": cofeciToken,\r\n            //   \"CodigoInscricao\": this.$store.state.creci,\r\n            //   \"IdCategoriaInscricao\": dados_pessoais.categoriainscricao,\r\n            //   \"Pessoa\": \"F\"\r\n            // }));\r\n\r\n            //Excluir todos os telefones\r\n            // await this.$http.cofeciApi.post('/excluirtodostelefones.php', JSON.stringify({\r\n            //   \"Token\": cofeciToken,\r\n            //   \"CodigoInscricao\": this.$store.state.creci,\r\n            //   \"IdCategoriaInscricao\": dados_pessoais.categoriainscricao,\r\n            //   \"Pessoa\": \"F\"\r\n            // }));\r\n\r\n\r\n            //Gravar Endereço\r\n            if (this.$store.state.homologacao) dados_gravarendereco.homologacao = true;\r\n            await this.$http.cofeciApi.post('/gravarendereco.php', JSON.stringify(dados_gravarendereco));\r\n            if (enderecos.endereco_comercial) {\r\n              dados_gravarendereco = {\r\n                \"Token\": cofeciToken,\r\n                \"CodigoInscricao\": this.$store.state.creci,\r\n                \"IdCategoriaInscricao\": dados_pessoais.categoriainscricao,\r\n                \"IdTipoEndereco\": 2,\r\n                \"IdReferencia\": 4,\r\n                \"Cep\": enderecos.endereco_comercial.cep,\r\n                \"Logradouro\": enderecos.endereco_comercial.logradouro,\r\n                \"Numero\": enderecos.endereco_comercial.numero,\r\n                \"Complemento\": enderecos.endereco_comercial.complemento,\r\n                \"Bairro\": enderecos.endereco_comercial.bairro,\r\n                \"Cidade\": enderecos.endereco_comercial.cidade,\r\n                \"UF\": enderecos.endereco_comercial.uf,\r\n                \"Correspondencia\": enderecos.favorito === 2 ? \"S\" : \"N\"\r\n              };\r\n              if (this.$store.state.homologacao) dados_gravarendereco.homologacao = true;\r\n              await this.$http.cofeciApi.post('/gravarendereco.php', JSON.stringify(dados_gravarendereco));\r\n            }\r\n\r\n            //Gravar Email\r\n            if (this.$store.state.homologacao) dados_gravaremail.homologacao = true;\r\n            await this.$http.cofeciApi.post('/gravaremail.php', JSON.stringify(dados_gravaremail));\r\n            if (contato.email2) {\r\n              dados_gravaremail.EmailPagina = contato.email2;\r\n              await this.$http.cofeciApi.post('/gravaremail.php', JSON.stringify(dados_gravaremail));\r\n            }\r\n            if (contato.email3) {\r\n              dados_gravaremail.EmailPagina = contato.email3;\r\n              await this.$http.cofeciApi.post('/gravaremail.php', JSON.stringify(dados_gravaremail));\r\n            }\r\n\r\n            //Gravar Telefone\r\n            const telefonereqs = contato.telefones.map(tel => this.$http.cofeciApi.post('/gravartelefone.php', JSON.stringify({\r\n              \"Token\": cofeciToken,\r\n              \"CodigoInscricao\": this.$store.state.creci,\r\n              \"IdCategoriaInscricao\": dados_pessoais.categoriainscricao,\r\n              \"IdTipoTelefone\": tel.tipo,\r\n              \"DDD\": tel.numero.substr(0,2),\r\n              \"Numero\": tel.numero.substr(2),\r\n              \"homologacao\": this.$store.state.homologacao ? true : undefined\r\n            })) );\r\n            await this.$http.axios.all(telefonereqs);\r\n\r\n            //Gravar Foto e Assinatura\r\n            if (this.$store.state.homologacao) dados_gravarfotoassinatura.homologacao = true;\r\n            await this.$http.cofeciApi.post('/gravarfotoassinatura.php', JSON.stringify(dados_gravarfotoassinatura));\r\n\r\n            //Gravar Recadastramento\r\n            await this.$http.cofeciApi.post('/recadastramento.php', JSON.stringify({\r\n              \"Token\": cofeciToken,\r\n              \"CodigoInscricao\": this.$store.state.creci,\r\n              \"IdCategoriaInscricao\": dados_pessoais.categoriainscricao,\r\n              \"homologacao\": this.$store.state.homologacao ? true : undefined\r\n            }));\r\n\r\n            //Validade Documento\r\n            await this.$http.cofeciApi.post('/validadedocumento.php', JSON.stringify({\r\n              \"Token\": cofeciToken,\r\n              \"CodigoInscricao\": this.$store.state.creci,\r\n              \"IdCategoriaInscricao\": 1,\r\n              \"Pessoa\": \"F\",\r\n              \"IdSituacao\": 1,\r\n              \"DataValidade\": ((new Date()).getFullYear() + 1) + '-04-15',\r\n              \"DebitoCreci\": this.$store.state.anuidade_absoluta ? \"N\" : \"S\",\r\n              \"homologacao\": this.$store.state.homologacao ? true : undefined\r\n            }))\r\n          } catch (e) {\r\n            //Registra no histórico do banco interno do App\r\n            histForm.append(\"falha\", JSON.stringify(e));\r\n            if (e.data.Mensagem) this.$toastr.warning(e.data.Mensagem, 'Aviso do COFECI');\r\n            else this.$toastr.error('Falha ao registrar no COFECI');\r\n            throw new Error('Erro na API COFECI');\r\n          }\r\n\r\n          //============== GRAVANDO DADOS NO REGIONAL ============//\r\n          if (!this.$store.state.homologacao) {\r\n            this.$store.commit('setLoading', 'Registrando no CRECI');\r\n\r\n            //adaptando o estado civil\r\n            let estadocivil_cnet = null;\r\n            switch (dados_pessoais.estadocivil) {\r\n              case 5:\r\n                estadocivil_cnet = 4;\r\n                break;\r\n              case 6:\r\n                estadocivil_cnet = 5;\r\n                break;\r\n              case 8:\r\n                estadocivil_cnet = 6;\r\n                break;\r\n              default:\r\n                estadocivil_cnet = dados_pessoais.estadocivil;\r\n            }\r\n\r\n            try {\r\n              //Atualizar Ficha Básica\r\n              let formData = new FormData();\r\n              formData.append(\"idregional\", this.$store.getters.regional);\r\n              formData.append(\"cpf\", documentos.cpf);\r\n              formData.append('nome', dados_pessoais.nomecompleto);\r\n              formData.append('estadocivil', estadocivil_cnet.toString());\r\n              formData.append('formacao', dados_pessoais.formacao===2 ? 5 : (dados_pessoais.formacao===1 ? 2 : dados_pessoais.formacao));\r\n              formData.append('pai', dados_pessoais.pai);\r\n              formData.append('mae', dados_pessoais.mae);\r\n              formData.append('sexo', dados_pessoais.sexo);\r\n              formData.append('nacionalidade', dados_pessoais.nacionalidade);\r\n              formData.append('naturalidade', dados_pessoais.naturalidade);\r\n              formData.append('ufnaturalidade', dados_pessoais.ufnaturalidade);\r\n              formData.append('datanascimento', DateHelper.date_BRparaSQL(dados_pessoais.datanascimento));\r\n              if (dados_pessoais.reservista) formData.append('reservista', dados_pessoais.reservista);\r\n              formData.append('rgnumero', documentos.rg);\r\n              formData.append('rgemissor', documentos.rgemissor+'/'+documentos.rgufemissor);\r\n              formData.append('rgdataemissao', DateHelper.date_BRparaSQL(documentos.rgdataemissao));\r\n              if (documentos.tituloeleitoral) formData.append('tituloeleitor', documentos.tituloeleitoral);\r\n              if (documentos.zonaeleitoral) formData.append('zonaeleitoral', documentos.zonaeleitoral);\r\n              if (documentos.secaoeleitoral) formData.append('secaoeleitoral', documentos.secaoeleitoral);\r\n              formData.append('doador', dados_pessoais.doador);\r\n              formData.append('email1', contato.email1);\r\n              formData.append('email2', contato.email2);\r\n              formData.append('email3', contato.email3);\r\n              await this.$http.conselhoApi.post('/corretor/atualizar/ficha.php', formData);\r\n\r\n              //Atualizar Endereços\r\n              formData = new FormData(); //enderecos\r\n              formData.append(\"idregional\", this.$store.getters.regional);\r\n              formData.append(\"cpf\", documentos.cpf);\r\n              formData.append(\"enderecoresidencial\", JSON.stringify({\r\n                cep: enderecos.endereco_residencial.cep,\r\n                uf: enderecos.endereco_residencial.uf,\r\n                cidade: enderecos.endereco_residencial.cidade,\r\n                bairro: enderecos.endereco_residencial.bairro,\r\n                logradouro: enderecos.endereco_residencial.logradouro,\r\n                complemento: enderecos.endereco_residencial.complemento ? enderecos.endereco_residencial.numero+', '+enderecos.endereco_residencial.complemento : enderecos.endereco_residencial.numero\r\n              }));\r\n              if (enderecos.endereco_comercial) formData.append(\"enderecocomercial\", JSON.stringify({\r\n                cep: enderecos.endereco_comercial.cep,\r\n                uf: enderecos.endereco_comercial.uf,\r\n                cidade: enderecos.endereco_comercial.cidade,\r\n                bairro: enderecos.endereco_comercial.bairro,\r\n                logradouro: enderecos.endereco_comercial.logradouro,\r\n                complemento: enderecos.endereco_comercial.complemento ? enderecos.endereco_comercial.numero+', '+enderecos.endereco_comercial.complemento : enderecos.endereco_comercial.numero\r\n              }));\r\n              formData.append(\"favorito\", enderecos.favorito);\r\n              formData.append(\"quem\", \"9999\");\r\n              await this.$http.conselhoApi.post('/corretor/atualizar/endereco.php', formData);\r\n\r\n              //Atualizar Telefones\r\n              formData = new FormData();\r\n              formData.append(\"idregional\", this.$store.getters.regional);\r\n              formData.append(\"cpf\", documentos.cpf);\r\n              formData.append(\"telefones\", JSON.stringify(contato.telefones));\r\n              formData.append(\"quem\", \"9999\");\r\n              await this.$http.conselhoApi.post('/corretor/atualizar/telefone.php', formData);\r\n\r\n              //Atualizar foto\r\n              formData = new FormData();\r\n              formData.append(\"idregional\", this.$store.getters.regional);\r\n              formData.append(\"cpf\", documentos.cpf);\r\n              formData.append(\"imagem\", ImageHelper.dataURItoBlob(foto));\r\n              await this.$http.conselhoApi.post('/corretor/atualizar/foto.php', formData);\r\n\r\n              //Atualizar assinatura\r\n              formData = new FormData();\r\n              formData.append(\"idregional\", this.$store.getters.regional);\r\n              formData.append(\"cpf\", documentos.cpf);\r\n              formData.append(\"imagem\", ImageHelper.dataURItoBlob(assinatura));\r\n              await this.$http.conselhoApi.post('/corretor/atualizar/assinatura.php', formData);\r\n\r\n              //Registrar Recadastramento\r\n              formData = new FormData();\r\n              formData.append(\"idregional\", this.$store.getters.regional);\r\n              formData.append(\"cpf\", documentos.cpf);\r\n              formData.append(\"idambiente\", \"1\");\r\n              await this.$http.conselhoApi.post('/corretor/inserir/recadastramento.php', formData);\r\n              this.$toastr.success('Recadastramento registrado');\r\n            } catch (e) {\r\n              //Registra no histórico do banco interno do App\r\n              histForm.append(\"falha\", JSON.stringify(e));\r\n              this.$toastr.error('Falha ao registrar no CRECI');\r\n              throw new Error('Erro na API CRECI');\r\n            }\r\n          }\r\n\r\n          //Destruindo dados do formulario\r\n          this.destruirCache();\r\n\r\n          this.$store.commit('setLoading', 'Atualizando sua conta');\r\n          try {\r\n            await this.$store.dispatch('updateUserData');\r\n          } finally {\r\n            await this.$router.push({name: 'home'}); //saindo\r\n          }\r\n        } finally {\r\n          //Registra no histórico interno do App\r\n          this.$http.axios.post(this.$http.appApi.defaults.baseURL + '/recad/registrar.php', histForm, {\r\n            headers: {'Authorization': this.$store.state.token}\r\n          });\r\n          this.$store.commit('setLoading', false);\r\n        }\r\n        //====================\r\n      },\r\n      destruirCache() {\r\n        sessionStorage.removeItem('recad_dadospessoais');\r\n        sessionStorage.removeItem('recad_documentacao');\r\n        sessionStorage.removeItem('recad_endereco');\r\n        sessionStorage.removeItem('recad_contato');\r\n        sessionStorage.removeItem('recad_foto');\r\n      }\r\n    },\r\n    computed: {\r\n      podeRecadastrar() {\r\n        return CreciHelper.utilizaConselhoNet(this.$store.getters.regional);\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .indicadores{\r\n    display: flex;\r\n    justify-content: space-between;\r\n    pointer-events: none !important;\r\n    padding: 0 .25rem;\r\n  }\r\n  .indicadores a{\r\n    width: 2rem;\r\n    height: 2rem;\r\n    border-radius: 50%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    box-shadow: 0 0 3px rgba(0,0,0,.7);\r\n    position: relative;\r\n    font-weight: 600;\r\n    font-size: 1.1rem;\r\n    font-family: serif;\r\n    text-decoration: none;\r\n    color: black;\r\n    background: #ffffff;\r\n    margin: 1rem 0;\r\n  }\r\n  .indicadores a::after{\r\n    background-color: rgba(0,0,0,0);\r\n    content: \"\";\r\n    opacity: 0.15;\r\n    top: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    right: 0;\r\n    position: absolute;\r\n    margin: 0.25rem;\r\n  }\r\n  .divisor{\r\n    padding: 0 .5rem;\r\n    display: flex;\r\n    align-items: center;\r\n    flex: 1 1 auto;\r\n  }\r\n  .divisor::after{\r\n    content: \"\";\r\n    width: 100%;\r\n    border-bottom: 1px solid rgba(0,0,0,.3);\r\n  }\r\n  .indicadores a.router-link-exact-active{\r\n    background-color: #28a745;\r\n    color: #ffffff;\r\n    box-shadow: inset 0 0 0.3rem black;\r\n  }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Recadastramento.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Recadastramento.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Recadastramento.vue?vue&type=template&id=cdd7b424&scoped=true&\"\nimport script from \"./Recadastramento.vue?vue&type=script&lang=js&\"\nexport * from \"./Recadastramento.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Recadastramento.vue?vue&type=style&index=0&id=cdd7b424&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cdd7b424\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}