(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b8aa1"],{"303a":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("form",{staticClass:"card",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[t._m(0),i("div",{staticClass:"card-body"},[i("h5",{staticClass:"text-center"},[t._v("E-mails")]),i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"ipt-email1"}},[t._v("E-mail Principal")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.email1,expression:"email1"}],staticClass:"form-control",attrs:{id:"ipt-email1",type:"email",maxlength:"45",required:""},domProps:{value:t.email1},on:{input:function(e){e.target.composing||(t.email1=e.target.value)}}})]),t.qtdEmails>=2?i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"ipt-email2"}},[t._v("E-mail Secundário")]),i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.email2,expression:"email2"}],staticClass:"form-control",class:{"is-invalid":t.email2&&(t.email2===t.email1||t.email2===t.email3)},attrs:{id:"ipt-email2",type:"email",maxlength:"45"},domProps:{value:t.email2},on:{input:function(e){e.target.composing||(t.email2=e.target.value)}}}),2===t.qtdEmails?i("div",{staticClass:"input-group-append"},[i("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(){t.qtdEmails--,t.email2=""}}},[i("i",{staticClass:"fas fa-minus"})])]):t._e(),i("div",{staticClass:"invalid-feedback"},[t._v("E-mail repetido!")])])]):t._e(),t.qtdEmails>=3?i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"ipt-email3"}},[t._v("E-mail Terciário")]),i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.email3,expression:"email3"}],staticClass:"form-control",class:{"is-invalid":t.email3&&(t.email3===t.email1||t.email3===t.email2)},attrs:{id:"ipt-email3",type:"email",maxlength:"45"},domProps:{value:t.email3},on:{input:function(e){e.target.composing||(t.email3=e.target.value)}}}),i("div",{staticClass:"input-group-append"},[i("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(){t.qtdEmails--,t.email3=""}}},[i("i",{staticClass:"fas fa-minus"})])]),i("div",{staticClass:"invalid-feedback"},[t._v("E-mail repetido!")])])]):t._e(),t.qtdEmails<3?i("button",{staticClass:"btn btn-block btn-info",attrs:{type:"button"},on:{click:function(e){t.qtdEmails++}}},[i("i",{staticClass:"fas fa-plus-square pr-2"}),t._v("Adicionar outro e-mail\n    ")]):t._e(),i("hr"),i("h5",{staticClass:"text-center"},[t._v("Telefones")]),0===t.telefones.length?i("p",{staticClass:"text-center mb-2"},[t._v("não há telefone registrado")]):t._e(),t._l(t.telefones,(function(e,a){return[i("div",{key:a,staticClass:"form-group"},[i("div",{staticClass:"input-group"},[i("div",{staticClass:"input-group-prepend"},[i("div",{staticClass:"input-group-text"},[1===e.tipo?i("i",{staticClass:"fas fa-home"}):2===e.tipo?i("i",{staticClass:"fas fa-briefcase"}):3===e.tipo?i("i",{staticClass:"fas fa-mobile-alt px-1"}):t._e()])]),i("the-mask",{staticClass:"form-control",attrs:{type:"tel",mask:["(##) ####-####","(##) #####-####"],required:""},model:{value:t.telefones[a].numero,callback:function(e){t.$set(t.telefones[a],"numero",e)},expression:"telefones[i].numero"}}),i("div",{staticClass:"input-group-append"},[i("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.telefones.splice(a,1)}}},[i("i",{staticClass:"fas fa-minus"})])])],1),1===e.tipo?i("small",{staticClass:"text-muted"},[t._v("fixo residencial")]):2===e.tipo?i("small",{staticClass:"text-muted"},[t._v("fixo comercial")]):3===e.tipo?i("small",{staticClass:"text-muted"},[t._v("celular")]):t._e()])]})),i("div",{staticClass:"dropdown"},[t._m(1),i("div",{staticClass:"dropdown-menu"},[i("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.addTelefone(2)}}},[i("i",{staticClass:"fas fa-briefcase pr-2"}),t._v("Fixo Comercial")]),i("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.addTelefone(3)}}},[i("i",{staticClass:"fas fa-mobile-alt pr-2 pl-1"}),t._v("Celular")])])])],2),i("div",{staticClass:"card-footer text-center"},[i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.$router.push({name:"recadpj-2",params:{empresa:t.empresa}})}}},[t._v("Voltar")]),i("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[t._v("Avançar")])])])},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card-header"},[i("h5",{staticClass:"card-title"},[t._v("Informações para contato")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"btn btn-block btn-info dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown"}},[i("i",{staticClass:"fas fa-plus-square pr-2"}),t._v("Adicionar um telefone")])}],l={name:"PjContato",props:{empresa:{required:!0,type:Object},value:{default:function(){return{}},type:Object}},data:function(){return{email1:"",email2:"",email3:"",qtdEmails:1,telefones:[]}},methods:{submit:function(){if(this.emailValido()&&this.telefoneValido()){var t=this.value,e=[this.email1];this.email2&&e.push(this.email2),this.email3&&e.push(this.email3),t.emails=e,t.telefones=this.telefones,this.$emit("input",t),this.$router.push({name:"recadpj-4",params:{empresa:this.empresa}})}},popularCampos:function(t){var e=t.emails.filter((function(t){return!!t}));e.length>0&&(this.email1=e[0]),e.length>1&&(this.email2=e[1]),e.length>2&&(this.email3=e[2]),this.qtdEmails=e.length,this.telefones=t.telefones.comercial.map((function(t){return{tipo:2,numero:t}})).concat(t.telefones.celular.map((function(t){return{tipo:3,numero:t}})));var i=this.value;i.emails&&(i.emails.length>=1&&(this.email1=i.emails[0]),i.emails.length>=2&&(this.email2=i.emails[1]),i.emails.length>=3&&(this.email3=i.emails[2])),i.telefones&&(this.telefones=i.telefones)},addTelefone:function(t){var e=this.telefones.filter((function(e){return e.tipo===t})).length;e>=3?this.$toastr.info("Você já possui 3 telefones deste tipo"):this.telefones.push({tipo:t,numero:""})},emailValido:function(){return this.email1=this.email1.trim(),this.email2=this.email2.trim(),this.email3=this.email3.trim(),!this.email2&&this.email3&&(this.email2=this.email3,this.email3="",this.qtdEmails--),!this.email1&&this.email2&&(this.email1=this.email2,this.email2="",this.qtdEmails--),this.email1||this.email2||this.email3?!(this.email1&&this.email2&&this.email1===this.email2||this.email1&&this.email3&&this.email1===this.email3||this.email2&&this.email3&&this.email2===this.email3)||(this.$toastr.warning("Há e-mails repetidos"),!1):(this.$toastr.warning("Insira pelo menos um e-mail"),!1)},telefoneValido:function(){if(!this.telefones.length)return this.$toastr.warning("Adicione pelo menos um telefone"),!1;var t=this.telefones.map((function(t){return t.numero})),e=t.filter((function(e){return t.filter((function(t){return e===t})).length>1}));return!(e.length>0)||(this.$toastr.warning("Há telefones repetidos"),!1)}},mounted:function(){this.popularCampos(this.empresa)},beforeRouteLeave:function(t,e,i){t.params.empresa=this.empresa,i()}},n=l,o=i("2877"),r=Object(o["a"])(n,a,s,!1,null,"c85fb926",null);e["default"]=r.exports}}]);
//# sourceMappingURL=chunk-2d0b8aa1.ac2c563b.js.map